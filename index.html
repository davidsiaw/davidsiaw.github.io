
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>./home/davidsiaw</title>
  <meta name="author" content="davidsiaw">

  
  <meta name="description" content="Recently I have been reading a series of very interesting posts by an Aphyr who tests distributed databases and then publishes their performance &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://davidsiaw.github.io/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
   <link href="/stylesheets/data-table.css" media="screen, projection" rel="stylesheet" type="text/css" />
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="./home/davidsiaw" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href='http://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic' rel='stylesheet' type='text/css'>

<!-- mathjax config similar to math.stackexchange -->

<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$$','$$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
    });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for(i=0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>

<script type="text/javascript"
   src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>


  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-44781950-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
</hgroup>

</header>
  <!-- <nav role="navigation">
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:davidsiaw.github.io" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Home</a></li>
  <li><a href="/blog/archives">Archives</a></li>
  <li><a href="/gallery">Gallery</a></li>
  <li><a href="/notes">Notes</a></li>
</ul>

</nav> -->
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2018/08/16/jepsen-and-docker/">Jepsen and Docker</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2018-08-16T00:06:00+00:00" pubdate data-updated="true">Aug 16<span>th</span>, 2018</time>
        
         | <a href="/blog/2018/08/16/jepsen-and-docker/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Recently I have been reading a series of very interesting posts by an Aphyr who <a href="https://aphyr.com/tags/jepsen">tests distributed databases</a> and then publishes their performance under <a href="https://aphyr.com/posts/288-the-network-is-reliable">network partition</a> conditions, clock skews, dead nodes and other interesting failure conditions.</p>

<p>The tool he uses is called <a href="https://github.com/jepsen-io/jepsen">Jepsen</a> which he wrote himself, and the repo itself includes the set of tests that he used on various databases. After reading all the posts about how various supposedly industry-standard (I guess this is the industry standard) databases which claim to be quite reliable fail under precisely the conditions they are not supposed to fail under, I decided to try the tool out myself and document the experience.</p>

<p>My first thought about this tool was that it would be a great application of Docker, and it turns out he had already written a <a href="https://github.com/jepsen-io/jepsen/tree/master/docker">Docker harness for Jepsen</a>. This was great since you could do all sorts of things in the container environment of Docker and still simulate network partitions and all those nasty things without needing too much hardware.</p>

<p>I checked out Jepsen and ran the scripts the way it told me to.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="err">$</span> <span class="n">sh</span> <span class="n">up</span><span class="o">.</span><span class="n">sh</span>
</span><span class='line'><span class="o">[</span><span class="no">INFO</span><span class="o">]</span> <span class="no">Generating</span> <span class="n">key</span> <span class="n">pair</span>
</span><span class='line'><span class="no">Generating</span> <span class="kp">public</span><span class="o">/</span><span class="kp">private</span> <span class="n">rsa</span> <span class="n">key</span> <span class="n">pair</span><span class="o">.</span>
</span><span class='line'><span class="no">Your</span> <span class="n">identification</span> <span class="n">has</span> <span class="n">been</span> <span class="n">saved</span> <span class="k">in</span> <span class="o">.</span><span class="n">/secret</span><span class="o">/</span><span class="n">id_rsa</span><span class="o">.</span>
</span><span class='line'><span class="o">.</span>
</span><span class='line'><span class="o">.</span>
</span><span class='line'><span class="o">.</span>
</span></code></pre></td></tr></table></div></figure>


<p>And then it goes off and builds a bunch of containers from scratch.</p>

<p><img src="/images/blogimages/notlike.png" alt="Alt text" /></p>

<p>Then at the very end (after maybe 15 mins of downloading and installing) it goes</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>.
</span><span class='line'>.
</span><span class='line'>.
</span><span class='line'>jepsen-control | Please run <span class="sb">`</span>docker <span class="nb">exec</span> -it jepsen-control bash<span class="sb">`</span> in another terminal to proceed.
</span></code></pre></td></tr></table></div></figure>


<p>Excellent I can run it now!</p>

<p>So I open another terminal and type it in and instantly I&rsquo;m transported to where I should be to start working with Jepsen. Hooray!</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span>docker <span class="nb">exec</span> -it jepsen-control bash
</span><span class='line'>Welcome to Jepsen on <span class="nv">Docker</span>
</span><span class='line'><span class="o">===========================</span>
</span><span class='line'>
</span><span class='line'>This container runs the Jepsen tests in sub-containers.
</span><span class='line'>
</span><span class='line'>You are currently in the base dir of the git repo <span class="k">for </span>Jepsen.
</span><span class='line'>If you modify the core jepsen library make sure you <span class="s2">&quot;lein install&quot;</span> it so other tests can access.
</span><span class='line'>
</span><span class='line'>To run a <span class="nb">test</span>:
</span><span class='line'>   <span class="nb">cd </span>etcd <span class="o">&amp;&amp;</span> lein run <span class="nb">test</span> --concurrency 10
</span><span class='line'>root@control:/jepsen#
</span></code></pre></td></tr></table></div></figure>


<p>Let&rsquo;s try the next command. It looks to me like I should try running the test on etcd with 10 clients?</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="c"># cd etcd &amp;&amp; lein run test --concurrency 10</span>
</span></code></pre></td></tr></table></div></figure>


<p>It then goes off and spews a large amount of output</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>16:09:00.452 <span class="o">[</span>main<span class="o">]</span> INFO  jepsen.cli - Test options:
</span><span class='line'> <span class="o">{</span>:concurrency 10,
</span><span class='line'> :test-count 1,
</span><span class='line'> :time-limit 60,
</span><span class='line'> :nodes <span class="o">[</span><span class="s2">&quot;n1&quot;</span> <span class="s2">&quot;n2&quot;</span> <span class="s2">&quot;n3&quot;</span> <span class="s2">&quot;n4&quot;</span> <span class="s2">&quot;n5&quot;</span><span class="o">]</span>,
</span><span class='line'> :ssh
</span><span class='line'> <span class="o">{</span>:username <span class="s2">&quot;root&quot;</span>,
</span><span class='line'>  :password <span class="s2">&quot;root&quot;</span>,
</span><span class='line'>  :strict-host-key-checking <span class="nb">false</span>,
</span><span class='line'>  :private-key-path nil<span class="o">}}</span>
</span><span class='line'>.
</span><span class='line'>.
</span><span class='line'>.
</span></code></pre></td></tr></table></div></figure>


<p>It basically goes off and does a large number of reads and writes. At the very end, it comes back with this:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>Analysis invalid! <span class="o">(</span>ﾉಥ益ಥ）ﾉ ┻━┻
</span></code></pre></td></tr></table></div></figure>


<p>Wow that was quick. I did not expect to run into an etcd problem so fast. I did not even specify any failures.</p>

<p>Seems like I had some code to read. After fumbling around I discovered the <a href="https://github.com/jepsen-io/jepsen/blob/master/etcd/src/jepsen/etcd.clj#L159">source file</a>.</p>

<p>Aha.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class='clojure'><span class='line'><span class="nv">...</span>
</span><span class='line'><span class="p">(</span><span class="nb">merge </span><span class="nv">tests/noop-test</span>
</span><span class='line'>         <span class="p">{</span><span class="ss">:name</span> <span class="s">&quot;etcd&quot;</span>
</span><span class='line'>          <span class="ss">:os</span> <span class="nv">debian/os</span>
</span><span class='line'>          <span class="ss">:db</span> <span class="p">(</span><span class="nf">db</span> <span class="s">&quot;v3.1.5&quot;</span><span class="p">)</span>
</span><span class='line'>          <span class="ss">:client</span> <span class="p">(</span><span class="nf">client</span> <span class="nv">nil</span><span class="p">)</span>
</span><span class='line'>          <span class="ss">:nemesis</span> <span class="p">(</span><span class="nf">nemesis/partition-random-halves</span><span class="p">)</span>
</span><span class='line'>          <span class="ss">:model</span>  <span class="p">(</span><span class="nf">model/cas-register</span><span class="p">)</span>
</span><span class='line'><span class="nv">...</span>
</span></code></pre></td></tr></table></div></figure>


<p>Looks like the Jepsen nemesis was baked into the test script. Well thats fine for now.</p>

<h2>Knossos</h2>

<p>The next step basically to me was to find out what was wrong. There was a large amount of data output so there must be a tool of some sort that can tell me what was wrong. (Or so I imagined)</p>

<p>After a bit of googling I came across another project called <a href="https://github.com/jepsen-io/knossos">Knossos</a>.</p>

<p>I didn&rsquo;t know very much about Clojure so I just followed through the README anyway. So first I cloned knossos</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="c"># git clone https://github.com/jepsen-io/knossos</span>
</span><span class='line'><span class="c"># cd knossos</span>
</span></code></pre></td></tr></table></div></figure>


<p>I dug around to find the .edn file from my Jepsen run and discovered it in /jepsen/etcd/store/latest/history.edn</p>

<p>Then I ran the command in the README</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="c"># lein run --model cas-register /jepsen/etcd/store/latest/history.edn </span>
</span><span class='line'>/jepsen/etcd/store/latest/history.edn <span class="nb">false</span>
</span></code></pre></td></tr></table></div></figure>


<p>Excellent. Yes. I knew that.</p>

<p>Scrolling down a little in the README I discovered it could generate the linearizability graph too. That was cool so I tried, by following the code in the README</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>root@control:/knossos# lein repl
</span><span class='line'>nREPL server started on port 37400 on host 127.0.0.1 - nrepl://127.0.0.1:37400
</span><span class='line'>REPL-y 0.3.7, nREPL 0.2.12
</span><span class='line'>Clojure 1.8.0
</span><span class='line'>OpenJDK 64-Bit Server VM 1.8.0_181-8u181-b13-0ubuntu0.16.04.1-b13
</span><span class='line'>    Docs: <span class="o">(</span>doc <span class="k">function</span>-name-here<span class="o">)</span>
</span><span class='line'>          <span class="o">(</span>find-doc <span class="s2">&quot;part-of-name-here&quot;</span><span class="o">)</span>
</span><span class='line'>  Source: <span class="o">(</span><span class="nb">source </span><span class="k">function</span>-name-here<span class="o">)</span>
</span><span class='line'> Javadoc: <span class="o">(</span>javadoc java-object-or-class-here<span class="o">)</span>
</span><span class='line'>    Exit: Control+D or <span class="o">(</span><span class="nb">exit</span><span class="o">)</span> or <span class="o">(</span>quit<span class="o">)</span>
</span><span class='line'> Results: Stored in vars *1, *2, *3, an exception in *e
</span></code></pre></td></tr></table></div></figure>


<p>I am then dropped into the Clojure prompt, where I try clumsily to guess how things are done:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class='clojure'><span class='line'><span class="nv">knossos.cli=&gt;</span> <span class="p">(</span><span class="k">def </span><span class="nv">h</span> <span class="p">(</span><span class="nf">read-history</span> <span class="s">&quot;/jepsen/etcd/store/latest/history.edn&quot;</span><span class="p">))</span>
</span><span class='line'><span class="o">#</span><span class="ss">&#39;knossos.cli/h</span>
</span><span class='line'><span class="nv">knossos.cli=&gt;</span> <span class="p">(</span><span class="k">def </span><span class="nv">a</span> <span class="p">(</span><span class="nf">competition/analysis</span> <span class="p">(</span><span class="nf">model/cas-register</span><span class="p">)</span> <span class="nv">h</span><span class="p">))</span>
</span><span class='line'><span class="o">#</span><span class="ss">&#39;knossos.cli/a</span>
</span><span class='line'><span class="nv">knossos.cli=&gt;</span> <span class="p">(</span><span class="nf">require</span> <span class="o">&#39;</span><span class="p">[</span><span class="nv">knossos.linear.report</span> <span class="ss">:as</span> <span class="nv">report</span><span class="p">])</span>
</span><span class='line'><span class="nv">nil</span>
</span><span class='line'><span class="nv">knossos.cli=&gt;</span> <span class="p">(</span><span class="nf">report/render-analysis!</span> <span class="nv">h</span> <span class="nv">a</span> <span class="s">&quot;linear.svg&quot;</span><span class="p">)</span>
</span><span class='line'><span class="nv">AssertionError</span> <span class="nv">Assert</span> <span class="nv">failed</span><span class="err">:</span> <span class="nv">No</span> <span class="nv">invocation</span> <span class="nb">for </span><span class="nv">op</span> <span class="p">{</span><span class="ss">:process</span> <span class="mi">2</span>, <span class="ss">:type</span> <span class="ss">:ok</span>, <span class="ss">:f</span> <span class="ss">:read</span>, <span class="ss">:value</span> <span class="p">[</span><span class="mi">0</span> <span class="mi">4</span><span class="p">]</span>, <span class="ss">:index</span> <span class="mi">12</span>, <span class="ss">:time</span> <span class="mi">421990474</span><span class="p">}</span>
</span><span class='line'><span class="nv">inv</span>  <span class="nv">knossos.linear.report/time-coords/fn--5143</span> <span class="p">(</span><span class="nf">report.clj</span><span class="ss">:186</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>Okay, I had no idea what that meant. Looks like there are still kinks.</p>

<h2>Thoughts</h2>

<p>In short I have a few thoughts:</p>

<ol>
<li>Using docker for this is way cool</li>
<li>The analysis tool sucks</li>
<li>This can be so much more general</li>
</ol>


<h3>Using docker is way cool</h3>

<p>While Aphyr says that he uses his own LXC stuff to work with, I think its cool that he does provide a Docker interface. However he isn&rsquo;t taking advantage of a few things docker can do:</p>

<p>a) Prebuilt docker containers
b) Networking in docker that can be used to simulate faults
c) Skewing clocks in the container
d) Adding and removing new containers, simulating scaling effects and changing configuration</p>

<p>It is probably because the tool is in its early stages of development, and really he knows how to use it the best, so he can do his stuff the best. But I can&rsquo;t help but feel he himself would benefit from some improvement in this domain. Perhaps he does not use it right now, or maybe he does in another way. I&rsquo;ve only sat with this code for the last 4 hours.</p>

<h3>The analysis tool sucks</h3>

<p>It needs to recover from weird errors nicely and maybe still present some amount of information. Unfortunately it doesn&rsquo;t, so I will need to spend some time figuring out what I did wrong. Once I get it then I will be able to truly start analysing databases myself.</p>

<h3>This can be so much more general</h3>

<p>All in all it looks like a large amount of the code done here is still quite research quality and tests, while composable seemed like they had to be baked into the testing code still. On the surface it felt to me that skew clocks, network failures, network delays and failing environments were things that did not have to be part of the test and could be external.</p>

<p><strong> None of this makes any of Jepsen less cool </strong></p>

<p>In my opinion all one should really need to do is specify what to do in order to perform a read, write or CAS, and the testing tool should attempt a combination of the three to figure out how a database puts up with it.</p>

<p>Its also likely to be the case because different databases are different. Some are queues, some are data structures, some are RDBMS and some are key value stores. However they all should have the same idea that storing data stores, and automated analysis that shows if it is CP or AP and how would be incredible. This is something I might work on in a later post when I have time.</p>

<h2>Conclusions</h2>

<p>The world needs more of these. This run was an eye-opener to real simulations of faults, and also the idea that distributed databases are actually extremely hard to understand and build. It also has shown me how one person who makes an effort to do something advanced and difficult and documents it in a clear manner can so quickly change the landscape of a field.</p>

<p>Thanks to him I am sure I and a large number of people now understand the definitions and jargon behind distributed databases which have been hidden behind walls of text in white papers and difficult to read (read longwinded) articles, and this really opens the door to helping people build better and more resilient systems.</p>

<p>This probably will not be the last post on distributed databases on the blog as I, as are many others, interested in how things can scale safely. We have more or less solved it for webservers, but scaling databases, that is clearly a different beast.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2016/04/09/an-utilitarian-view-on-intelligence/">An Utilitarian View on Intelligence</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2016-04-09T22:56:00+00:00" pubdate data-updated="true">Apr 9<span>th</span>, 2016</time>
        
         | <a href="/blog/2016/04/09/an-utilitarian-view-on-intelligence/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>The recent victories of AlphaGo has been but an interesting demonstration that machines are finally able to outplay masters at a highly complex game. Some may consider this to be the beginning of a real takeover of machines ala The Terminator, which to me is simply a fear of that which we do not understand.</p>

<p>As one of the many traits we can assign to people, intelligence is just one of them. However it seems to be a very valuable and desirable trait to many, and people often seek to measure this &ldquo;intelligence&rdquo; to order people by usefulness. Intelligence is measured in many different ways, from highly formal methods such as IQ tests to empirical rules judging by their personalities or the company they keep.</p>

<p>However let us first understand that intelligence is indeed valuable and while measuring it accurately may not be easy, measuring its value may be easier. How do we do this? We can try a very simple form of intelligence that we have developed ourselves called &ldquo;artificial intelligence&rdquo;.</p>

<p>Artificial intelligence comes in many different forms such as a computer player in games, sudoku solvers, self driving cars, the ability to read and parse written text and so on. However even with this many forms of artificial intelligence, their value is always a measure of the quality of their decisions in the domain. For example, an AI that is capable of beating most players at a game is considered better than an AI that does not. A self driving car that has less accidents on the road has a higher value than those that have more accidents. In essence the final value of a machine driven by some form of AI is always measured by its track record of decisions and results.</p>

<p>Thus the real value of an AI is the quality of the decisions it forms.</p>

<p>So what has AI really got to do with human intelligence? Well, I believe that AI and human intelligence actually are similar and almost equivalent in their playing field.</p>

<p>In its most degenerate form, being able to count is a quality humans learn and find useful, and which humans will practice in many fields. However, under fatigue, a human may count wrongly and this may result in bad decisions. Machines have mostly replaced humans in this regard due to their ability to more consistently count without errors (notwithstanding their ability to do it faster). This explains the great drop in secretaries and clerical jobs.</p>

<p>As time goes by the number of machines that can more consistently make better decisions about the actions they have to take will increase, and humans are forced to compete with this. After the industrial revolution, the value of labor has actually steadily dwindled as energy becomes more available and machines allow the conversion of energy sources into more kinds of value. Our value is more and more tied to the quality and weight of our decisions.</p>

<p>High level managers in companies and leaders are often held at a higher value than those who perform labor intensive tasks such as transporting due to the low value of labor and the high value of decisions. Certain labor intensive jobs do not have high value but are still performed by humans because humans are still capable of making decisions on the job that are better than machines, such as janitors and construction work, although cleaning is slowly being taken over by machines as exemplified by robots such as the Roomba.</p>

<p>In many ways we are already competing with machines to show that human decisions are still better than machine decisions in many fields. This means that if we were to assign a dollar value to machines that can do a particular work as well as a human being, that dollar value will be assigned to a human being in that field of work as well, essentially proving the equivalence of an AI and human intelligence in their ability to make decisions.</p>

<p>We are now in constant competition with machines to demonstrate our value through our ability to make better decisions on the actions we make, so the real value of human intelligence and thus the human who has that intelligence is also the quality of the decisions it makes him make, equivalent to the value of artificial intelligence itself.</p>

<p>IQ tests and apitude examinations have seemed to miss the point of intelligence and tested for a more abstract and less substantial quality of humans.</p>

<p>So in many ways, our old view of hard work as a good quality of a person falls in the face of scrutiny when we consider the modern realities we live in. Leaving decisions to another has always been tolerated, and blame and responsibility assigned to another, when the true value of our place in society actually comes from the decisions we make. The application of hard work is also a decision we often have to make but allow others to make for us. Perhaps we should begin to teach children less about working hard and more about learning to make good decisions.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2015/12/22/rotating-integrals/">Rotating Integrals</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2015-12-22T01:11:00+00:00" pubdate data-updated="true">Dec 22<span>nd</span>, 2015</time>
        
         | <a href="/blog/2015/12/22/rotating-integrals/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p><em>This post assumes you know some trigonometry and can do some integral calculus on it.</em></p>

<p>My little brother in college complained about sines and cosines in an indefinite integral today. Specifically, an integration that he was annoyed with was:</p>

<p>\[\int{x^3\,sin(x)\,dx}\]</p>

<p>It sounded like a whine at first but upon closer inspection, his complaints are not unwarranted. This is indeed a troublesome kind of indefinite integral. There is a trick to doing it quickly, but let us try and perform this particular integration normally first:</p>

<p>Since this is integration of the product of two functions, we perform integration by parts.</p>

<p>\[\int{u\,dv} = uv\, &ndash; \int{v\,du}\]</p>

<p>I choose \(u = x^3\) and \(dv = sin(x)\,dx\) mostly to avoid having to integrate the \(x^3\) and have fractions mess up my working.</p>

<p>This results in:</p>

<p>\[
\begin{aligned}
 u &amp; = x^3 \cr
 du &amp; = 3x^2\,dx \cr
 dv &amp; = sin(x)\,dx \cr
 v &amp; = -cos(x)
\end{aligned}
\]</p>

<p>Hence:</p>

<p>\[
\begin{aligned}
 \int{u\,dv} &amp; = uv\, &ndash; \int{v\,du} \cr
 &amp; = -x^3\,cos(x)\, &ndash; \int{–3x^2 cos(x)\,dx} \cr
 &amp; = -x^3\,cos(x) + \int{3x^2 cos(x)\,dx}
\end{aligned}
\]</p>

<p>We seem to have ended up with another integral to solve: \(\int{cos(x)(3x^2)\,dx}\), so we shall proceed to solve it.</p>

<p>\[
\begin{array}{cc}
 \begin{aligned}
  \int{u\,dv} &amp; = uv\, &ndash; \int{v\,du} \cr
  \int{3x^2 cos(x)\,dx} &amp; = 3x^2 sin(x)\, &ndash; \int{6x\,sin(x)\,dx}
 \end{aligned} &amp;
 \begin{aligned}
  u &amp; = 3x^2 \cr
  du &amp; = 6x\,dx \cr
  dv &amp; = cos(x)\,dx \cr
  v &amp; = sin(x)
 \end{aligned}
\end{array}
\]</p>

<p>How vexing. We have yet another integral to solve. Let us proceed anyway.</p>

<p>\[
\begin{array}{cc}
 \begin{aligned}
  \int{u\,dv} &amp; = uv\, &ndash; \int{v\,du} \cr
  \int{6x\,sin(x)\,dx} &amp; = -6x\,cos(x)\, &ndash; \int{-6\,cos(x)\,dx} \cr
  \int{6x\,sin(x)\,dx} &amp; = -6x\,cos(x) + \int{6\,cos(x)\,dx}
 \end{aligned} &amp;
 \begin{aligned}
  u &amp; = 6x \cr
  du &amp; = 6\,dx \cr
  dv &amp; = sin(x)\,dx \cr
  v &amp; = -cos(x)
 \end{aligned}
\end{array}
\]</p>

<p>Once again, we have to solve another integral. This one seems to be the last though, because the x term has withered away into oblivion, it becomes a trivial integral.</p>

<p>\[
\begin{aligned}
 \int{6x\,sin(x)\,dx} &amp; = -6x\,cos(x) + \int{6\,cos(x)\,dx} \cr
 &amp; = -6x\,cos(x) + 6\int{cos(x)\,dx} \cr
 &amp; = -6x\,cos(x) + 6\,sin(x)
\end{aligned}
\]</p>

<p>Bringing it all together, we have:</p>

<p>\[
\begin{aligned}
 \int{x^3\,sin(x)\,dx} &amp; = -x^3\,cos(x) + \int{3x^2 cos(x)\,dx} \cr
 &amp; = -x^3\,cos(x) + 3x^2 sin(x)\, &ndash; \int{6x\,sin(x)\,dx} \cr
 &amp; = -x^3\,cos(x) + 3x^2 sin(x)\, &ndash; [-6x\,cos(x) + \int{6\,cos(x)\,dx}] \cr
 &amp; = -x^3\,cos(x) + 3x^2 sin(x)\, &ndash; [-6x\,cos(x) + 6\,sin(x)] \cr
 &amp; = -x^3\,cos(x) + 3x^2 sin(x)\, + 6x\,cos(x) &ndash; 6\,sin(x)
\end{aligned}
\]</p>

<p>Phew! Basically due to the fact that you have to integrate by parts as many times as the <em>power of x</em>, the amount of integration you have to do increases proportionally to x&rsquo;s power, making it troublesome.</p>

<h2>A Closer Look</h2>

<p>However, if you have been following the working closely, you will notice that all we are really doing when we integrate by parts is performing a derivative of both parts over and over again. Notice how the \(sin(x)\) term keeps flipping between \(sin(x)\) and \(cos(x)\).</p>

<p>Better yet, if you differentiate \(sin(x)\) 4 times, the entire thing rotates back to \(sin(x)\) again. Since we integrated \(sin(x)\) 4 times in this example, that is exactly what happened. I call this kind of integral a <strong>Rotating Integral</strong> because the trigonometric term constantly rotates between the four combinations of negative and positive, \(sin(x)\) and \(cos(x)\).</p>

<p>Notice also that the \(u\) term we chose right at the beginning was differentiated at every step until it became a constant:</p>

<p>\[x^3\,\rightarrow\,3x^2\,\rightarrow\,6x\,\rightarrow\,6\]</p>

<p>If we factorize the result, we get the following:</p>

<p>\[
 -x^3\,cos(x) + 3x^2 sin(x)\, + 6x\,cos(x) &ndash; 6\,sin(x) = (-x^3 + 6x)\,cos(x) + (3x^2 &ndash; 6)\,sin(x)
\]</p>

<p>Notice how there is a negative term in both the \(sin(x)\) and \(cos(x)\) groups. Since the starting \(u\) we chose was positive, we can see the \(sin(x)\) go through</p>

<p>\[-cos(x)\,\rightarrow\,-sin(x)\,\rightarrow\,cos(x)\,\rightarrow\,sin(x)\]</p>

<p>We can see a pattern of repeating derivatives distributed among the \(sin(x)\) and \(cos(x)\) groups. If we recognize that</p>

<p>\[
\begin{array}{cc}
 x^3 &amp;\rightarrow\,3x^2 &amp;\rightarrow\,6x &amp;\rightarrow\,6 \cr
 f &amp;\rightarrow\,f^\prime &amp;\rightarrow\,f^{\prime \prime} &amp;\rightarrow\,f^{\prime \prime \prime} \cr
\end{array}
\]</p>

<p>And from our rearranged result,</p>

<p>\[
(-f + f^{\prime \prime})\,cos(x) + (f^\prime &ndash; f^{\prime \prime \prime})\,sin(x)
\]</p>

<p>This peaked my interest, and I decided to check the results of other powers of x:</p>

<p>\[
\begin{array}{cc}
3 &amp; (-x^3 + 6x)\,cos(x) &amp; + (3x^2 &ndash; 6)\,sin(x) \cr
4 &amp; (-x^4 + 12x^2 &ndash; 24)\,cos(x) &amp; + (4x^3 &ndash; 24x)\,sin(x) \cr
5 &amp; (-x^5 + 20x^3 &ndash; 120x)\,cos(x) &amp; + (5x^4 &ndash; 60x^2 + 120)\,sin(x) \cr
6 &amp; (-x^6 + 30x^4 &ndash; 360x^2 + 720)\,cos(x) &amp; + (6x^5 &ndash; 120x^3 + 720x)\,sin(x) \cr
7 &amp; (-x^7 + 42x^5 &ndash; 840x^3 + 5040x)\,cos(x) &amp; + (7x^6 &ndash; 210x^4 + 2520x^2 &ndash; 5040)\,sin(x)
\end{array}
\]</p>

<h2>The Solution!</h2>

<p>After doing some more wolframming, I found that we have a general solution of:</p>

<p>\[
\int{f\,sin(x)\,dx} = (&ndash; f + f^{\prime \prime} &ndash; f^{\prime \prime \prime \prime} + \cdots &ndash; f^{\prime2n})\,cos(x) + (f^{\prime} &ndash; f^{\prime \prime \prime} + f^{\prime \prime \prime \prime \prime} &ndash; \cdots + f^{\prime2n+1})\,sin(x)
\]</p>

<p>Where odd numbered differentials are on the \(sin(x)\) group and even numbered differentials are on the \(cos(x)\) group, and each differential alternates between negative and positive signs. The \(sin(x)\) group starts with a positive sign while the \(cos(x)\) starts with a negative sign.</p>

<p>Of course, the same rule slightly modified works for the \(cos(x)\) form:</p>

<p>\[
\int{f\,cos(x)\,dx} = (f &ndash; f^{\prime \prime} + f^{\prime \prime \prime \prime} &ndash; \cdots + f^{\prime2n})\,sin(x) + (f^{\prime} &ndash; f^{\prime \prime \prime} + f^{\prime \prime \prime \prime \prime} &ndash; \cdots + f^{\prime2n+1})\,cos(x)
\]</p>

<p>Note that this only works if \(f\) eventually derives into 0, and if the trigonometric function is \(sin(x)\) or \(cos(x)\). Otherwise you will need another method of finding the solution.</p>

<h2>Weird Application</h2>

<p>With this we can try and verify that what I said was true by trying to use it on a very special function that does not change even when under differentiation: \(e^x\). Even though I said this only works if it eventually derives to zero, let us try anyway:</p>

<p>So for this let us try the following function:</p>

<p>\[\int{e^x\,sin(x)\,dx}\]</p>

<p>This should give us</p>

<p>\[
\begin{align}
 \int{e^x\,sin(x)\,dx} &amp; = (&ndash; e^x + e^x &ndash; e^x + \cdots)\,cos(x) + (e^x &ndash; e^x + e^x &ndash; \cdots)\,sin(x) &amp; \cr
  &amp; = (&ndash; e^x + e^x &ndash; e^x + \cdots)\,cos(x) &ndash; (-e^x + e^x &ndash; e^x + \cdots)\,sin(x) &amp; \text{If we flip the sign}\cr
  &amp; = (&ndash; e^x + e^x &ndash; e^x + \cdots)(cos(x) &ndash; sin(x)) &amp; \text{Hence} \cr
  &amp; = (-1+1-1+\cdots)(e^x)(cos(x) &ndash; sin(x)) &amp;
\end{align}
\]</p>

<p>We are left with a strange, almost nonsensical looking sum that looks like it should evaluate to zero, but does it?</p>

<p>\[
\begin{align}
 S &amp; = -1+1-1+1-1+1\cdots \cr
 S &amp; = -1-S \cr
 2S &amp; = -1 \cr
 S &amp; = &ndash;\frac{1}{2} \cr
\end{align}
\]</p>

<p>Oh so that infinite sum actually evaluates to \(&ndash;\frac{1}{2}\). This may seem dubious but proving that is outside the scope of this post. (Lots of people have done it anyway.) This just means that our thing above should look like this:</p>

<p>\[
\begin{align}
 \int{e^x\,sin(x)\,dx}&amp; = (-1+1-1+\cdots)(e^x)(cos(x) &ndash; sin(x)) \cr
 &amp; = &ndash;\frac{1}{2}(e^x)(cos(x) &ndash; sin(x)) \cr
 &amp; = \frac{1}{2}(e^x)(sin(x)-cos(x)) \cr
\end{align}
\]</p>

<p>But is this correct? We must try and check again that we did not just stumble on nonsense.</p>

<h2>Verifying again</h2>

<p>To verify, let us perform it again with good ol&#8217; integration by parts.</p>

<p>\[\int{e^x\,sin(x)\,dx}\]</p>

<p>\[
\begin{array}{cc}
 \begin{aligned}
  \int{u\,dv} &amp; = uv\, &ndash; \int{v\,du} \cr
  \int{sin(x)(e^x)\,dx} &amp; =  sin(x)(e^x)\, &ndash; \int{e^x\,cos(x)\,dx}
 \end{aligned} &amp;
 \begin{aligned}
  u &amp; = sin(x) \cr
  du &amp; = cos(x)\,dx \cr
  dv &amp; = e^x\,dx \cr
  v &amp; = e^x
 \end{aligned}
\end{array}
\]</p>

<p>We have to do this integration again for \(cos(x)\), so let us do so.</p>

<p>\[
\begin{array}{cc}
 \begin{aligned}
  \int{u\,dv} &amp; = uv\, &ndash; \int{v\,du} \cr
  \int{e^x\,cos(x)\,dx} &amp; =  cos(x)(e^x)\, + \int{e^x\,sin(x)\,dx}
 \end{aligned} &amp;
 \begin{aligned}
  u &amp; = cos(x) \cr
  du &amp; = -sin(x)\,dx \cr
  dv &amp; = e^x\,dx \cr
  v &amp; = e^x
 \end{aligned}
\end{array}
\]</p>

<p>Substituting back, we get:</p>

<p>\[
\begin{aligned}
 \int{sin(x)(e^x)\,dx} &amp; = sin(x)(e^x)\, &ndash; \int{e^x\,cos(x)\,dx} \cr
 &amp; = sin(x)(e^x)\, &ndash; cos(x)(e^x)\, &ndash; \int{e^x\,sin(x)\,dx} \cr
 2\int{sin(x)(e^x)\,dx} &amp; = sin(x)(e^x)\, &ndash; cos(x)(e^x) \cr
 \int{sin(x)(e^x)\,dx} &amp; = \frac{1}{2}(e^x)(sin(x)-cos(x))
\end{aligned}
\]</p>

<p>Which is the same result we got before, proving that we didn&rsquo;t screw up.</p>

<p>With this, you can find the indefinite integral of expressions of this form by simply differentiating the non-trigonometric side. You can also use identities, factorizations and other ways to rearrange an expression into this form to use this technique to integrate this otherwise troublesome class of <strong>Rotating Integrals</strong>.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2015/06/12/finding-square-roots/">Finding Square Roots</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2015-06-12T01:36:00+00:00" pubdate data-updated="true">Jun 12<span>th</span>, 2015</time>
        
         | <a href="/blog/2015/06/12/finding-square-roots/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Most of us has at some point in our lives used the <code>Math.sqrt()</code> function. We would even know that \(\sqrt{2} = 1.414\ldots\). However, we never really give how it is implemented a second thought. Thus is the power of a tight abstraction. For those of us who lived in the age of calculators, finding square roots has always been a source of mystery. For me during my teenage years, calculating a square root has really just been about looking up a numeric table.</p>

<p><img src="/images/log8.jpg" alt="Table of Square Roots" /></p>

<p>Obviously this very simple problem would have been solved close to the beginnings of civilization, and blazingly fast methods must already exist. But for sake of exploration, let us examine how we would implement a square root function should we need to.</p>

<p>\[\sqrt{-n} = \sqrt{-1} \sqrt{n}\]</p>

<p>Since square roots of negative numbers are really just square roots of positive numbers times the square root of a negative number, let us focus our efforts on finding just the square roots of positive real numbers.</p>

<p><img src="/images/square.png" alt="y=x^2" /></p>

<p>One way to find a square root is by looking at this graph of \(y=x^2\). Simply drawing a horizontal line from the y-axis from whose square root we desire to the graph line, and then find the intersect on the x-axis. So say we want \(\sqrt{30}\).</p>

<p><img src="/images/sqrt30.png" alt="find sqrt 30" /></p>

<p>We simply draw a line from the y-axis at 30 to the graph and find that it is located somewhere between 5.4 and 5.6 along the x-axis, but closer to 5.4. This makes sense. A quick glance at <a href="https://www.google.co.jp/webhp?sourceid=chrome-instant&amp;ion=1&amp;espv=2&amp;ie=UTF-8#q=sqrt(30">google</a>) shows \(\sqrt{30} = 5.4772255\)</p>

<p><img src="/images/binaryguessing.png" alt="find sqrt 30" /></p>

<p>This in-betweenness tells us something about square roots. Besides the nice square roots, the ugly ones don&rsquo;t seem to have any end to their decimals. Hence, they are always in between two numbers that we know. This means that we can keep making educated guesses about where the square root is until we get close enough.</p>

<p>\[0 &lt; \sqrt{30} &lt; 30\]</p>

<p>Let&rsquo;s apply this knowledge first and do the calculation by hand for the number 30 since we know its answer so we can verify that our method is correct.</p>

<p>First of all, we must figure out where the root is. Obviously, it would be less than 30, since you need to multiply it by itself to get 30. Its also more than zero, because as mentioned earlier, you will always end up with a positive number.</p>

<p>\[\sqrt{30} \approx 15?\]</p>

<p>The number most in between of 0 and 30 is 15. But is this the number? The only way to check is by squaring 15.</p>

<p>\[15^2 = 225\]</p>

<p>Nope. Not even close. 225 is waaay too big. But this tells us something: the root cannot be bigger than 15 because if it was, we would get an even bigger square than 30, so we must look to the left of 15. This means our upper bound is now 15 instead of 30.</p>

<p>\[0 &lt; \sqrt{30} &lt; 15\]</p>

<p>The number in the middle this time is 7.5. Is this our number?</p>

<p>\[7.5^2 = 56.25\]</p>

<p>Still too big. This means our root must be smaller than 7.5, but still bigger than zero.</p>

<p>\[0 &lt; \sqrt{30} &lt; 7.5\]</p>

<p>The number in the middle of 7.5 is 3.75. Perhaps this is our number?</p>

<p>\[3.75^2 = 14.0625\]</p>

<p>It seems the square of 3.75 is smaller than 30! This means that that the root must be bigger than 3.75 since if the number is smaller, we get an even smaller square, we must be getting close.</p>

<p>\[3.75 &lt; \sqrt{30} &lt; 7.5\]</p>

<p>Now we must find out what number is in the middle. Well, from our geometry class we know that the average of two numbers is the middle number, so \(\frac{3.75 + 7.5}{2} = 5.625\). We simply need to square this number to check now.</p>

<p>\[5.625^2 = 31.640625\]</p>

<p>It seems we have gotten a lot closer now that we moved the lower bound up. Our guess of 5.625 seems really close to the answer now. But because its square is bigger than 30, we know the root must be smaller than 5.625, so:</p>

<p>\[3.75 &lt; \sqrt{30} &lt; 5.625\]</p>

<p>The middle number of this is then 4.6875.</p>

<p>\[4.6875^2 = 21.972656\]</p>

<p>That&rsquo;s really far away. This can&rsquo;t be the answer, but lets keep looking. Since its square is smaller than 30, we change the lower bound to this.</p>

<p>\[4.6875 &lt; \sqrt{30} &lt; 5.625\]</p>

<p>This time, the middle number is 5.15625.</p>

<p>\[5.15625^2 = 26.586914\]</p>

<p>We are getting closer again, but this is smaller than 30, so our lower bound should be changed.</p>

<p>\[5.15625 &lt; \sqrt{30} &lt; 5.625\]</p>

<p>I know, it starts to get frustrating at this point since we seem to be crawling, but lets stay on for another two rounds. The number in the middle is 5.390625</p>

<p>\[5.390625^2 = 29.058838\]</p>

<p>Our result now is very very close to 30. It is smaller, so the lower bound should be changed.</p>

<p>\[5.390625 &lt; \sqrt{30} &lt; 5.625\]</p>

<p>The middle number is now 5.507812. That means the square is&hellip;</p>

<p>\[5.507812^2 = 30.336\]</p>

<p>Okay! We are pretty close, but the important thing is we know it will eventually arrive at the answer because we kept getting closer to the answer as we went. Now, we know computers do things faster than we do so let us write some code!</p>

<p>So first of all, we want to have our initial guess. The number to be rooted is 30.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='c++'><span class='line'><span class="kt">double</span> <span class="n">number</span> <span class="o">=</span> <span class="mi">30</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'><span class="kt">double</span> <span class="n">upperBound</span> <span class="o">=</span> <span class="n">number</span><span class="p">;</span>
</span><span class='line'><span class="kt">double</span> <span class="n">lowerBound</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></code></pre></td></tr></table></div></figure>


<p>Then, we write down what we did in every iteration.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
</pre></td><td class='code'><pre><code class='c++'><span class='line'><span class="c1">// We try and figure out if the middle number is the correct root</span>
</span><span class='line'><span class="kt">double</span> <span class="n">rootGuess</span> <span class="o">=</span> <span class="p">(</span><span class="n">upperBound</span> <span class="o">+</span> <span class="n">lowerBound</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span><span class="p">;</span>
</span><span class='line'><span class="kt">double</span> <span class="n">rootGuessSquared</span> <span class="o">=</span> <span class="n">rootGuess</span> <span class="o">*</span> <span class="n">rootGuess</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'><span class="k">if</span> <span class="p">(</span><span class="n">rootGuessSquared</span> <span class="o">&gt;</span> <span class="n">number</span><span class="p">)</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>  <span class="c1">// if the square of our guess is bigger than the number, that means the root is too big.</span>
</span><span class='line'>  <span class="c1">// so the root cannot be bigger than our current guess</span>
</span><span class='line'>  <span class="n">upperBound</span> <span class="o">=</span> <span class="n">rootGuess</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'><span class="k">else</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>  <span class="c1">// otherwise, the root cannot be smaller than our current guess.</span>
</span><span class='line'>  <span class="n">lowerBound</span> <span class="o">=</span> <span class="n">rootGuess</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>Next, we tell the computer to do it over and over again until the square of our guess is the number itself, so we wrap that in a loop.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
</pre></td><td class='code'><pre><code class='c++'><span class='line'><span class="kt">double</span> <span class="n">rootGuess</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span><span class='line'><span class="k">do</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>  <span class="c1">// We try and figure out if the middle number is the correct root</span>
</span><span class='line'>  <span class="n">rootGuess</span> <span class="o">=</span> <span class="p">(</span><span class="n">upperBound</span> <span class="o">+</span> <span class="n">lowerBound</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span><span class="p">;</span>
</span><span class='line'>  <span class="kt">double</span> <span class="n">rootGuessSquared</span> <span class="o">=</span> <span class="n">rootGuess</span> <span class="o">*</span> <span class="n">rootGuess</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">if</span> <span class="p">(</span><span class="n">rootGuessSquared</span> <span class="o">&gt;</span> <span class="n">number</span><span class="p">)</span>
</span><span class='line'>  <span class="p">{</span>
</span><span class='line'>      <span class="c1">// if the square of our guess is bigger than the number, that means the root is too big.</span>
</span><span class='line'>      <span class="c1">// so the root cannot be bigger than our current guess</span>
</span><span class='line'>      <span class="n">upperBound</span> <span class="o">=</span> <span class="n">rootGuess</span><span class="p">;</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'>  <span class="k">else</span>
</span><span class='line'>  <span class="p">{</span>
</span><span class='line'>      <span class="c1">// otherwise, the root cannot be smaller than our current guess.</span>
</span><span class='line'>      <span class="n">lowerBound</span> <span class="o">=</span> <span class="n">rootGuess</span><span class="p">;</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="p">}</span> <span class="k">while</span><span class="p">(</span><span class="n">rootGuess</span> <span class="o">*</span> <span class="n">rootGuess</span> <span class="o">!=</span> <span class="n">number</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure>


<p>Great, that seems simple enough. Let&rsquo;s put it all together.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
</pre></td><td class='code'><pre><code class='c++'><span class='line'><span class="kt">double</span> <span class="n">number</span> <span class="o">=</span> <span class="mi">30</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'><span class="kt">double</span> <span class="n">upperBound</span> <span class="o">=</span> <span class="n">number</span><span class="p">;</span>
</span><span class='line'><span class="kt">double</span> <span class="n">lowerBound</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'><span class="kt">double</span> <span class="n">rootGuess</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span><span class='line'><span class="k">do</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>  <span class="c1">// We try and figure out if the middle number is the correct root</span>
</span><span class='line'>  <span class="n">rootGuess</span> <span class="o">=</span> <span class="p">(</span><span class="n">upperBound</span> <span class="o">+</span> <span class="n">lowerBound</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span><span class="p">;</span>
</span><span class='line'>  <span class="kt">double</span> <span class="n">rootGuessSquared</span> <span class="o">=</span> <span class="n">rootGuess</span> <span class="o">*</span> <span class="n">rootGuess</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">if</span> <span class="p">(</span><span class="n">rootGuessSquared</span> <span class="o">&gt;</span> <span class="n">number</span><span class="p">)</span>
</span><span class='line'>  <span class="p">{</span>
</span><span class='line'>      <span class="c1">// if the square of our guess is bigger than the number, that means the root is too big.</span>
</span><span class='line'>      <span class="c1">// so the root cannot be bigger than our current guess</span>
</span><span class='line'>      <span class="n">upperBound</span> <span class="o">=</span> <span class="n">rootGuess</span><span class="p">;</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'>  <span class="k">else</span>
</span><span class='line'>  <span class="p">{</span>
</span><span class='line'>      <span class="c1">// otherwise, the root cannot be smaller than our current guess.</span>
</span><span class='line'>      <span class="n">lowerBound</span> <span class="o">=</span> <span class="n">rootGuess</span><span class="p">;</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>  <span class="n">printf</span><span class="p">(</span><span class="s">&quot;%lf &lt; sqrt(30) &lt; %lf guess=%lf rootGuessSquared=%lf</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">upperBound</span><span class="p">,</span> <span class="n">lowerBound</span><span class="p">,</span> <span class="n">rootGuess</span><span class="p">,</span> <span class="n">rootGuessSquared</span><span class="p">);</span>
</span><span class='line'>
</span><span class='line'><span class="p">}</span> <span class="k">while</span><span class="p">(</span><span class="n">rootGuess</span> <span class="o">*</span> <span class="n">rootGuess</span> <span class="o">!=</span> <span class="n">number</span><span class="p">);</span>
</span><span class='line'>
</span><span class='line'><span class="n">printf</span><span class="p">(</span><span class="s">&quot;result = %lf</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">rootGuess</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure>


<p>Notice I put in a printf to check the bounds as it runs. This makes it more interesting and actually shows us what&rsquo;s going on. Lets run it now.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
</pre></td><td class='code'><pre><code class='c++'><span class='line'><span class="mf">15.000000</span> <span class="o">&lt;</span> <span class="n">sqrt</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mf">0.000000</span> <span class="n">guess</span><span class="o">=</span><span class="mf">15.000000</span> <span class="n">rootGuessSquared</span><span class="o">=</span><span class="mf">225.000000</span>
</span><span class='line'><span class="mf">7.500000</span> <span class="o">&lt;</span> <span class="n">sqrt</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mf">0.000000</span> <span class="n">guess</span><span class="o">=</span><span class="mf">7.500000</span> <span class="n">rootGuessSquared</span><span class="o">=</span><span class="mf">56.250000</span>
</span><span class='line'><span class="mf">7.500000</span> <span class="o">&lt;</span> <span class="n">sqrt</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mf">3.750000</span> <span class="n">guess</span><span class="o">=</span><span class="mf">3.750000</span> <span class="n">rootGuessSquared</span><span class="o">=</span><span class="mf">14.062500</span>
</span><span class='line'><span class="mf">5.625000</span> <span class="o">&lt;</span> <span class="n">sqrt</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mf">3.750000</span> <span class="n">guess</span><span class="o">=</span><span class="mf">5.625000</span> <span class="n">rootGuessSquared</span><span class="o">=</span><span class="mf">31.640625</span>
</span><span class='line'><span class="mf">5.625000</span> <span class="o">&lt;</span> <span class="n">sqrt</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mf">4.687500</span> <span class="n">guess</span><span class="o">=</span><span class="mf">4.687500</span> <span class="n">rootGuessSquared</span><span class="o">=</span><span class="mf">21.972656</span>
</span><span class='line'><span class="mf">5.625000</span> <span class="o">&lt;</span> <span class="n">sqrt</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mf">5.156250</span> <span class="n">guess</span><span class="o">=</span><span class="mf">5.156250</span> <span class="n">rootGuessSquared</span><span class="o">=</span><span class="mf">26.586914</span>
</span><span class='line'><span class="mf">5.625000</span> <span class="o">&lt;</span> <span class="n">sqrt</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mf">5.390625</span> <span class="n">guess</span><span class="o">=</span><span class="mf">5.390625</span> <span class="n">rootGuessSquared</span><span class="o">=</span><span class="mf">29.058838</span>
</span><span class='line'><span class="mf">5.507812</span> <span class="o">&lt;</span> <span class="n">sqrt</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mf">5.390625</span> <span class="n">guess</span><span class="o">=</span><span class="mf">5.507812</span> <span class="n">rootGuessSquared</span><span class="o">=</span><span class="mf">30.335999</span>
</span><span class='line'><span class="mf">5.507812</span> <span class="o">&lt;</span> <span class="n">sqrt</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mf">5.449219</span> <span class="n">guess</span><span class="o">=</span><span class="mf">5.449219</span> <span class="n">rootGuessSquared</span><span class="o">=</span><span class="mf">29.693985</span>
</span><span class='line'><span class="mf">5.478516</span> <span class="o">&lt;</span> <span class="n">sqrt</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mf">5.449219</span> <span class="n">guess</span><span class="o">=</span><span class="mf">5.478516</span> <span class="n">rootGuessSquared</span><span class="o">=</span><span class="mf">30.014133</span>
</span><span class='line'><span class="mf">5.478516</span> <span class="o">&lt;</span> <span class="n">sqrt</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mf">5.463867</span> <span class="n">guess</span><span class="o">=</span><span class="mf">5.463867</span> <span class="n">rootGuessSquared</span><span class="o">=</span><span class="mf">29.853845</span>
</span><span class='line'><span class="mf">5.478516</span> <span class="o">&lt;</span> <span class="n">sqrt</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mf">5.471191</span> <span class="n">guess</span><span class="o">=</span><span class="mf">5.471191</span> <span class="n">rootGuessSquared</span><span class="o">=</span><span class="mf">29.933935</span>
</span><span class='line'><span class="mf">5.478516</span> <span class="o">&lt;</span> <span class="n">sqrt</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mf">5.474854</span> <span class="n">guess</span><span class="o">=</span><span class="mf">5.474854</span> <span class="n">rootGuessSquared</span><span class="o">=</span><span class="mf">29.974021</span>
</span><span class='line'><span class="mf">5.478516</span> <span class="o">&lt;</span> <span class="n">sqrt</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mf">5.476685</span> <span class="n">guess</span><span class="o">=</span><span class="mf">5.476685</span> <span class="n">rootGuessSquared</span><span class="o">=</span><span class="mf">29.994074</span>
</span><span class='line'><span class="mf">5.477600</span> <span class="o">&lt;</span> <span class="n">sqrt</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mf">5.476685</span> <span class="n">guess</span><span class="o">=</span><span class="mf">5.477600</span> <span class="n">rootGuessSquared</span><span class="o">=</span><span class="mf">30.004103</span>
</span><span class='line'><span class="mf">5.477600</span> <span class="o">&lt;</span> <span class="n">sqrt</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mf">5.477142</span> <span class="n">guess</span><span class="o">=</span><span class="mf">5.477142</span> <span class="n">rootGuessSquared</span><span class="o">=</span><span class="mf">29.999088</span>
</span><span class='line'><span class="mf">5.477371</span> <span class="o">&lt;</span> <span class="n">sqrt</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mf">5.477142</span> <span class="n">guess</span><span class="o">=</span><span class="mf">5.477371</span> <span class="n">rootGuessSquared</span><span class="o">=</span><span class="mf">30.001595</span>
</span><span class='line'><span class="mf">5.477257</span> <span class="o">&lt;</span> <span class="n">sqrt</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mf">5.477142</span> <span class="n">guess</span><span class="o">=</span><span class="mf">5.477257</span> <span class="n">rootGuessSquared</span><span class="o">=</span><span class="mf">30.000342</span>
</span><span class='line'><span class="mf">5.477257</span> <span class="o">&lt;</span> <span class="n">sqrt</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mf">5.477200</span> <span class="n">guess</span><span class="o">=</span><span class="mf">5.477200</span> <span class="n">rootGuessSquared</span><span class="o">=</span><span class="mf">29.999715</span>
</span><span class='line'><span class="mf">5.477228</span> <span class="o">&lt;</span> <span class="n">sqrt</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mf">5.477200</span> <span class="n">guess</span><span class="o">=</span><span class="mf">5.477228</span> <span class="n">rootGuessSquared</span><span class="o">=</span><span class="mf">30.000028</span>
</span><span class='line'><span class="mf">5.477228</span> <span class="o">&lt;</span> <span class="n">sqrt</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mf">5.477214</span> <span class="n">guess</span><span class="o">=</span><span class="mf">5.477214</span> <span class="n">rootGuessSquared</span><span class="o">=</span><span class="mf">29.999872</span>
</span><span class='line'><span class="mf">5.477228</span> <span class="o">&lt;</span> <span class="n">sqrt</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mf">5.477221</span> <span class="n">guess</span><span class="o">=</span><span class="mf">5.477221</span> <span class="n">rootGuessSquared</span><span class="o">=</span><span class="mf">29.999950</span>
</span><span class='line'><span class="mf">5.477228</span> <span class="o">&lt;</span> <span class="n">sqrt</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mf">5.477225</span> <span class="n">guess</span><span class="o">=</span><span class="mf">5.477225</span> <span class="n">rootGuessSquared</span><span class="o">=</span><span class="mf">29.999989</span>
</span><span class='line'><span class="mf">5.477226</span> <span class="o">&lt;</span> <span class="n">sqrt</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mf">5.477225</span> <span class="n">guess</span><span class="o">=</span><span class="mf">5.477226</span> <span class="n">rootGuessSquared</span><span class="o">=</span><span class="mf">30.000009</span>
</span><span class='line'><span class="mf">5.477226</span> <span class="o">&lt;</span> <span class="n">sqrt</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mf">5.477225</span> <span class="n">guess</span><span class="o">=</span><span class="mf">5.477225</span> <span class="n">rootGuessSquared</span><span class="o">=</span><span class="mf">29.999999</span>
</span><span class='line'><span class="mf">5.477226</span> <span class="o">&lt;</span> <span class="n">sqrt</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mf">5.477225</span> <span class="n">guess</span><span class="o">=</span><span class="mf">5.477226</span> <span class="n">rootGuessSquared</span><span class="o">=</span><span class="mf">30.000004</span>
</span><span class='line'><span class="mf">5.477226</span> <span class="o">&lt;</span> <span class="n">sqrt</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mf">5.477225</span> <span class="n">guess</span><span class="o">=</span><span class="mf">5.477226</span> <span class="n">rootGuessSquared</span><span class="o">=</span><span class="mf">30.000001</span>
</span><span class='line'><span class="mf">5.477226</span> <span class="o">&lt;</span> <span class="n">sqrt</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mf">5.477225</span> <span class="n">guess</span><span class="o">=</span><span class="mf">5.477226</span> <span class="n">rootGuessSquared</span><span class="o">=</span><span class="mf">30.000000</span>
</span><span class='line'><span class="mf">5.477226</span> <span class="o">&lt;</span> <span class="n">sqrt</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mf">5.477226</span> <span class="n">guess</span><span class="o">=</span><span class="mf">5.477226</span> <span class="n">rootGuessSquared</span><span class="o">=</span><span class="mf">30.000000</span>
</span><span class='line'><span class="mf">5.477226</span> <span class="o">&lt;</span> <span class="n">sqrt</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mf">5.477226</span> <span class="n">guess</span><span class="o">=</span><span class="mf">5.477226</span> <span class="n">rootGuessSquared</span><span class="o">=</span><span class="mf">30.000000</span>
</span><span class='line'><span class="mf">5.477226</span> <span class="o">&lt;</span> <span class="n">sqrt</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mf">5.477226</span> <span class="n">guess</span><span class="o">=</span><span class="mf">5.477226</span> <span class="n">rootGuessSquared</span><span class="o">=</span><span class="mf">30.000000</span>
</span><span class='line'><span class="mf">5.477226</span> <span class="o">&lt;</span> <span class="n">sqrt</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mf">5.477226</span> <span class="n">guess</span><span class="o">=</span><span class="mf">5.477226</span> <span class="n">rootGuessSquared</span><span class="o">=</span><span class="mf">30.000000</span>
</span><span class='line'><span class="mf">5.477226</span> <span class="o">&lt;</span> <span class="n">sqrt</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mf">5.477226</span> <span class="n">guess</span><span class="o">=</span><span class="mf">5.477226</span> <span class="n">rootGuessSquared</span><span class="o">=</span><span class="mf">30.000000</span>
</span><span class='line'><span class="mf">5.477226</span> <span class="o">&lt;</span> <span class="n">sqrt</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mf">5.477226</span> <span class="n">guess</span><span class="o">=</span><span class="mf">5.477226</span> <span class="n">rootGuessSquared</span><span class="o">=</span><span class="mf">30.000000</span>
</span><span class='line'><span class="mf">5.477226</span> <span class="o">&lt;</span> <span class="n">sqrt</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mf">5.477226</span> <span class="n">guess</span><span class="o">=</span><span class="mf">5.477226</span> <span class="n">rootGuessSquared</span><span class="o">=</span><span class="mf">30.000000</span>
</span><span class='line'><span class="mf">5.477226</span> <span class="o">&lt;</span> <span class="n">sqrt</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mf">5.477226</span> <span class="n">guess</span><span class="o">=</span><span class="mf">5.477226</span> <span class="n">rootGuessSquared</span><span class="o">=</span><span class="mf">30.000000</span>
</span><span class='line'><span class="mf">5.477226</span> <span class="o">&lt;</span> <span class="n">sqrt</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mf">5.477226</span> <span class="n">guess</span><span class="o">=</span><span class="mf">5.477226</span> <span class="n">rootGuessSquared</span><span class="o">=</span><span class="mf">30.000000</span>
</span><span class='line'><span class="mf">5.477226</span> <span class="o">&lt;</span> <span class="n">sqrt</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mf">5.477226</span> <span class="n">guess</span><span class="o">=</span><span class="mf">5.477226</span> <span class="n">rootGuessSquared</span><span class="o">=</span><span class="mf">30.000000</span>
</span><span class='line'><span class="mf">5.477226</span> <span class="o">&lt;</span> <span class="n">sqrt</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mf">5.477226</span> <span class="n">guess</span><span class="o">=</span><span class="mf">5.477226</span> <span class="n">rootGuessSquared</span><span class="o">=</span><span class="mf">30.000000</span>
</span><span class='line'><span class="mf">5.477226</span> <span class="o">&lt;</span> <span class="n">sqrt</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mf">5.477226</span> <span class="n">guess</span><span class="o">=</span><span class="mf">5.477226</span> <span class="n">rootGuessSquared</span><span class="o">=</span><span class="mf">30.000000</span>
</span><span class='line'><span class="mf">5.477226</span> <span class="o">&lt;</span> <span class="n">sqrt</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mf">5.477226</span> <span class="n">guess</span><span class="o">=</span><span class="mf">5.477226</span> <span class="n">rootGuessSquared</span><span class="o">=</span><span class="mf">30.000000</span>
</span><span class='line'><span class="mf">5.477226</span> <span class="o">&lt;</span> <span class="n">sqrt</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mf">5.477226</span> <span class="n">guess</span><span class="o">=</span><span class="mf">5.477226</span> <span class="n">rootGuessSquared</span><span class="o">=</span><span class="mf">30.000000</span>
</span><span class='line'><span class="mf">5.477226</span> <span class="o">&lt;</span> <span class="n">sqrt</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mf">5.477226</span> <span class="n">guess</span><span class="o">=</span><span class="mf">5.477226</span> <span class="n">rootGuessSquared</span><span class="o">=</span><span class="mf">30.000000</span>
</span><span class='line'><span class="mf">5.477226</span> <span class="o">&lt;</span> <span class="n">sqrt</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mf">5.477226</span> <span class="n">guess</span><span class="o">=</span><span class="mf">5.477226</span> <span class="n">rootGuessSquared</span><span class="o">=</span><span class="mf">30.000000</span>
</span><span class='line'><span class="mf">5.477226</span> <span class="o">&lt;</span> <span class="n">sqrt</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mf">5.477226</span> <span class="n">guess</span><span class="o">=</span><span class="mf">5.477226</span> <span class="n">rootGuessSquared</span><span class="o">=</span><span class="mf">30.000000</span>
</span><span class='line'><span class="mf">5.477226</span> <span class="o">&lt;</span> <span class="n">sqrt</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mf">5.477226</span> <span class="n">guess</span><span class="o">=</span><span class="mf">5.477226</span> <span class="n">rootGuessSquared</span><span class="o">=</span><span class="mf">30.000000</span>
</span><span class='line'><span class="mf">5.477226</span> <span class="o">&lt;</span> <span class="n">sqrt</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mf">5.477226</span> <span class="n">guess</span><span class="o">=</span><span class="mf">5.477226</span> <span class="n">rootGuessSquared</span><span class="o">=</span><span class="mf">30.000000</span>
</span><span class='line'><span class="mf">5.477226</span> <span class="o">&lt;</span> <span class="n">sqrt</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mf">5.477226</span> <span class="n">guess</span><span class="o">=</span><span class="mf">5.477226</span> <span class="n">rootGuessSquared</span><span class="o">=</span><span class="mf">30.000000</span>
</span><span class='line'><span class="mf">5.477226</span> <span class="o">&lt;</span> <span class="n">sqrt</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mf">5.477226</span> <span class="n">guess</span><span class="o">=</span><span class="mf">5.477226</span> <span class="n">rootGuessSquared</span><span class="o">=</span><span class="mf">30.000000</span>
</span><span class='line'><span class="mf">5.477226</span> <span class="o">&lt;</span> <span class="n">sqrt</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mf">5.477226</span> <span class="n">guess</span><span class="o">=</span><span class="mf">5.477226</span> <span class="n">rootGuessSquared</span><span class="o">=</span><span class="mf">30.000000</span>
</span><span class='line'><span class="mf">5.477226</span> <span class="o">&lt;</span> <span class="n">sqrt</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mf">5.477226</span> <span class="n">guess</span><span class="o">=</span><span class="mf">5.477226</span> <span class="n">rootGuessSquared</span><span class="o">=</span><span class="mf">30.000000</span>
</span><span class='line'><span class="mf">5.477226</span> <span class="o">&lt;</span> <span class="n">sqrt</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mf">5.477226</span> <span class="n">guess</span><span class="o">=</span><span class="mf">5.477226</span> <span class="n">rootGuessSquared</span><span class="o">=</span><span class="mf">30.000000</span>
</span><span class='line'><span class="mf">5.477226</span> <span class="o">&lt;</span> <span class="n">sqrt</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mf">5.477226</span> <span class="n">guess</span><span class="o">=</span><span class="mf">5.477226</span> <span class="n">rootGuessSquared</span><span class="o">=</span><span class="mf">30.000000</span>
</span><span class='line'><span class="mf">5.477226</span> <span class="o">&lt;</span> <span class="n">sqrt</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mf">5.477226</span> <span class="n">guess</span><span class="o">=</span><span class="mf">5.477226</span> <span class="n">rootGuessSquared</span><span class="o">=</span><span class="mf">30.000000</span>
</span><span class='line'><span class="mf">5.477226</span> <span class="o">&lt;</span> <span class="n">sqrt</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mf">5.477226</span> <span class="n">guess</span><span class="o">=</span><span class="mf">5.477226</span> <span class="n">rootGuessSquared</span><span class="o">=</span><span class="mf">30.000000</span>
</span><span class='line'><span class="n">result</span> <span class="o">=</span> <span class="mf">5.477226</span>
</span></code></pre></td></tr></table></div></figure>


<p>After all that spam, now we can see that the result is the square root of 30, since we know 5.477226 is the square root of 30.</p>

<p>This method of calculating square roots is called the Bisection method, also known as a binary search. Its not very efficient as you can see, and takes a long time to converge.</p>

<p>Now we know what it takes to find a square root! Now you can simply try it with a bunch of numbers and get the right answer. You can also compare the answer with the actual sqrt() function provided by the standard library.</p>

<p>It is also interesting to note that you can use this method to get cube roots, quartic roots and quintic roots too.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2015/01/23/script-for-setting-up-ftp-to-a-folder-on-a-mac/">Script for Setting Up FTP to a Folder on a Mac</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2015-01-23T10:34:00+00:00" pubdate data-updated="true">Jan 23<span>rd</span>, 2015</time>
        
         | <a href="/blog/2015/01/23/script-for-setting-up-ftp-to-a-folder-on-a-mac/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>This script came in handy many times when I had to share things with my other laptops or windows users.</p>

<p>On a Mac you should have Ruby installed. Macs normally come with an ftpd whose frontend has been ripped out, so you can only do this on the command line. Basically, write this to a script file (lets call it <code>setftp</code>)</p>

<p>and then use it by typing:</p>

<p><code>./setftp /directoryIWantToShare</code></p>

<p>Tested on Mavericks</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="c1">#!/usr/bin/env ruby</span>
</span><span class='line'>
</span><span class='line'><span class="c1">#puts ARGV.inspect</span>
</span><span class='line'>
</span><span class='line'><span class="nb">puts</span> <span class="sb">`sudo -s launchctl unload -w /System/Library/LaunchDaemons/ftp.plist`</span>
</span><span class='line'>
</span><span class='line'><span class="n">config</span> <span class="o">=</span> <span class="o">&lt;&lt;-</span><span class="no">THEFILE</span>
</span><span class='line'><span class="sh"># Set the ftp root dir to this folder</span>
</span><span class='line'><span class="sh">umask all 022</span>
</span><span class='line'><span class="sh">chroot GUEST #{ARGV[0]}</span>
</span><span class='line'><span class="sh">modify guest off</span>
</span><span class='line'><span class="sh">umask  guest 0707</span>
</span><span class='line'><span class="sh">upload guest on</span>
</span><span class='line'><span class="no">THEFILE</span>
</span><span class='line'>
</span><span class='line'><span class="no">File</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s2">&quot;/etc/ftpd.conf&quot;</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span> <span class="p">{</span> <span class="o">|</span><span class="n">file</span><span class="o">|</span> <span class="n">file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">config</span><span class="p">)</span> <span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="nb">puts</span> <span class="sb">`sudo -s launchctl load -w /System/Library/LaunchDaemons/ftp.plist`</span>
</span></code></pre></td></tr></table></div></figure>


<p>With this you will have an ftpd turn on whose root folder is the folder you named. in this case it is <code>/directoryIWantToShare</code></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/11/22/hexlife-part-2/">Hexlife Part 2</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-11-22T11:47:00+00:00" pubdate data-updated="true">Nov 22<span>nd</span>, 2014</time>
        
         | <a href="/blog/2014/11/22/hexlife-part-2/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Yesterday while fooling around, I wanted to build a tri-star, but I made a mistake and made this instead:</p>

<p><img src="/images/hexlife/semistill-seed.png" alt="Alt text" /></p>

<p>But to my surprise I did not find a tri-star, instead this grew out of it:</p>

<p><img src="/images/hexlife/Y-semistill.png" alt="Alt text" /></p>

<p>Since I had made changes to tint different generations with different colors, I wanted to test it. Wondering if I had introduced bugs, I went through my git history to make sure everything was fine. After reverting, it turned out I hadn&rsquo;t. It was just a variation I had never tried.</p>

<p>In my <a href="/blog/2014/11/21/hexlife/">earlier post</a>, I said that still lifes could not exist under the rules because cells could not live long enough, but these structures persisted. In other words, they were non-transient cells.</p>

<p>It turns out that most of the cells here had 3 neighbours, and that gave them a long lease on life. Also, all the way along the columns, there were no dead cells that had 2 cell neighbours, meaning that the cells would never die because of their spawn.</p>

<p>However, the ends are kept alive by an interesting &ldquo;flower&rdquo; oscillator that resembles the twinkling star oscillator, and this keeps the entire structure alive. Basically, you can make an infinitely long structure, but you must place the oscilators at the ends.</p>

<p>Armed with this knowledge, I set out to create a simpler column.</p>

<p><img src="/images/hexlife/I-semistill.png" alt="Alt text" /></p>

<p>I call this kind of life form a Semi-still life, since a large proportion of it can be unchanging, but must be supported by oscillation.</p>

<p>Perhaps there are more of these under these rules&hellip;</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/11/21/hexlife/">Hexlife</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-11-21T10:46:00+00:00" pubdate data-updated="true">Nov 21<span>st</span>, 2014</time>
        
         | <a href="/blog/2014/11/21/hexlife/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Last week I wrote a simple Game of Life variation that runs on a hexagonal grid after viewing <a href="http://en.wikipedia.org/wiki/Conway's_Game_of_Life#mediaviewer/File:Oscillator.gif">an example on Wikipedia</a>. The cells considered are the immediate neighbours. The rules are:</p>

<ul>
<li>if a dead cell is surrounded by 2 live cells, the dead cell becomes alive</li>
<li>if a live cell is surrounded by 3 or 4 live cells, it stays alive</li>
<li>in all other cases, the cell dies</li>
</ul>


<p>One of the interesting things about this set of rules is the absence of still life. The reason for this absence is that a cell can only be born under conditions where a live cell would otherwise die. This means that whenever a cell is born it is likely to kill its parents.</p>

<p>Hence the only known stable life forms in this set of rules at the moment are oscillators. No gliders have been found yet.</p>

<p>You can play with my implementation here: <a href="http://davidsiaw.github.io/hexlife/">http://davidsiaw.github.io/hexlife/</a></p>

<p>In my search for a glider in this set of rules, I found a bunch of oscillators and decided to record them:</p>

<table>
<thead>
<tr>
<th> Picture                                     </th>
<th> Description </th>
</tr>
</thead>
<tbody>
<tr>
<td><img src="/images/hexlife/2cell.png" alt="Alt text" />        </td>
<td> The <strong>2cell</strong> is the simplest and most common oscillator. It is left behind by almost any unstable life.</td>
</tr>
<tr>
<td><img src="/images/hexlife/spinner.png" alt="Alt text" />      </td>
<td> The <strong>Spinner</strong> is another common oscillator that has a period of 2. It simply looks like it is spinning.</td>
</tr>
<tr>
<td><img src="/images/hexlife/mouth.png" alt="Alt text" />        </td>
<td> The <strong>Mouth</strong> looks like a spinner but instead of 2nd level adjacent, they are 3rd level adjacent, so it looks like it is always opening and closing</td>
</tr>
<tr>
<td><img src="/images/hexlife/needle.png" alt="Alt text" />       </td>
<td> The <strong>Needle</strong> has a period of 2 and flips back and forth.</td>
</tr>
<tr>
<td><img src="/images/hexlife/dancer.png" alt="Alt text" />       </td>
<td> The <strong>Dancer</strong> has a period of 2 and looks like its swinging back and forth.</td>
</tr>
<tr>
<td><img src="/images/hexlife/star.png" alt="Alt text" />         </td>
<td> The <strong>Star</strong> looks like a twinkling star. It is quite peculiar in the sense that it has a period of 3.</td>
</tr>
<tr>
<td><img src="/images/hexlife/rotator.png" alt="Alt text" />      </td>
<td> The <strong>Rotator</strong> has a period of 4 and looks like it is spinning in a weird way.</td>
</tr>
<tr>
<td><img src="/images/hexlife/bat.png" alt="Alt text" />          </td>
<td> The <strong>Bat</strong> is perhaps the most common 4-period oscillator you get from random starts.</td>
</tr>
<tr>
<td><img src="/images/hexlife/snake.png" alt="Alt text" />        </td>
<td> The <strong>Snake</strong> is a period-4 oscillator that looks like a snake that wiggles around</td>
</tr>
<tr>
<td><img src="/images/hexlife/morpher.png" alt="Alt text" />      </td>
<td> The <strong>Morpher</strong> is really simple but really interesting-looking oscillator. It has got a period of 12 and transforms into all its possible orientations. This means that even though it has no symmetry, it does not matter which way you orient it, it will achieve the same configurations. I call this temporal homogeneity.</td>
</tr>
<tr>
<td><img src="/images/hexlife/tristar.png" alt="Alt text" />      </td>
<td> The <strong>Tristar</strong> is a period-12 oscillator that twinkles in a more elaborate way than the star.</td>
</tr>
<tr>
<td><img src="/images/hexlife/swimmer.png" alt="Alt text" />      </td>
<td> The <strong>Swimmer</strong> is an oscillator with a period of 48. You can actually find it on the Wikipedia page I linked. It seems like a lost fish swimming back and forth.</td>
</tr>
</tbody>
</table>


<p>If you find more oscillators please leave a comment!</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/10/30/using-travis-to-deploy-my-blog/">Using Travis to Deploy My Blog</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-10-30T01:07:00+00:00" pubdate data-updated="true">Oct 30<span>th</span>, 2014</time>
        
         | <a href="/blog/2014/10/30/using-travis-to-deploy-my-blog/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I&rsquo;ve been using Travis-CI more and more as a platform from which I can deploy things, due to the fact that we can run any code on it. Today I made it so that this blog is deployed to gh-pages when pushed. I have also set up my personal blog to be pushed this way as well.</p>

<p>Why did I use Travis-CI instead of Shippable or other CI systems for this? Well, its mainly due to the fact that I was already using Travis, and the tools (specifically the Travis gem) are quite mature. Many of the things that are quite troublesome, like generating a key and placing decrypt commands into the .travis.yml, are now covered in simple command line instructions.</p>

<p>My blog uses Jekyll + Octopress, but I don&rsquo;t like the limitations imposed by github on the templates I can use. So I decided it was better to simply upload the finished product. First of all, I push all my blog sources up to a public repository at <a href="https://github.com/davidsiaw/davidsiaw.github.io.source">https://github.com/davidsiaw/davidsiaw.github.io.source</a></p>

<p>While the setup is easy, its not obvious that you can do this. Hopefully this will go some way to helping others who want to circumvent the github limitations on their gh-pages content as well.</p>

<p>In this post I will show you how to set it up. First of all, I create a key that will give push access to my blog&rsquo;s repository at <a href="https://github.com/davidsiaw/davidsiaw.github.io">https://github.com/davidsiaw/davidsiaw.github.io</a> by calling up <code>ssh-keygen</code></p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>nagatsuki david$ ssh-keygen
</span><span class='line'>Generating public/private rsa key pair.
</span><span class='line'>Enter file in which to save the key (/Users/david/.ssh/id_rsa): deploy_key
</span><span class='line'>Enter passphrase (empty for no passphrase): 
</span><span class='line'>Enter same passphrase again: 
</span><span class='line'>Your identification has been saved in deploy_key.
</span><span class='line'>Your public key has been saved in deploy_key.pub.
</span><span class='line'>The key fingerprint is:
</span><span class='line'>89:8d:a9:60:5c:8b:77:05:c4:2b:05:a4:96:64:8e:fa david@nagatsuki
</span><span class='line'>The key's randomart image is:
</span><span class='line'>+--[ RSA 2048]----+
</span><span class='line'>|     .=+o        |
</span><span class='line'>|     *  o.       |
</span><span class='line'>|    = o. o.      |
</span><span class='line'>| o = ..=.o       |
</span><span class='line'>|  = . =.S        |
</span><span class='line'>|   o o .         |
</span><span class='line'>|    E            |
</span><span class='line'>|                 |
</span><span class='line'>|                 |
</span><span class='line'>+-----------------+</span></code></pre></td></tr></table></div></figure>


<p>I then place the deploy_key.pub in my github repository.</p>

<p>Next, I make use of the Travis gem to encrypt my private key. I add the <code>--add</code> parameter to make it write to my .travis.yml (I am in the directory.)</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>nagatsuki david$ travis encrypt-file deploy_key --add
</span><span class='line'>encrypting deploy_key for davidsiaw/davidsiaw.github.io
</span><span class='line'>storing result as deploy_key.enc
</span><span class='line'>storing secure env variables for decryption
</span><span class='line'>
</span><span class='line'>Make sure to add deploy_key.enc to the git repository.
</span><span class='line'>Make sure not to add deploy_key to the git repository.
</span><span class='line'>Commit all changes to your .travis.yml.</span></code></pre></td></tr></table></div></figure>


<p>This gives me a deploy_key.enc that is my encrypted private key.</p>

<p>In order to use this key, I need to add some more lines to <a href="https://github.com/davidsiaw/davidsiaw.github.io.source/blob/master/.travis.yml">.travis.yml</a> to enable it to push to github. First of all, I need to install the key into the .ssh folder so git can use it. I also chmod it so ssh will not complain.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='yaml'><span class='line'><span class="p-Indicator">-</span> <span class="l-Scalar-Plain">chmod 600 deploy-key</span>
</span><span class='line'><span class="p-Indicator">-</span> <span class="l-Scalar-Plain">cp deploy-key ~/.ssh/id_rsa</span>
</span></code></pre></td></tr></table></div></figure>


<p>With this, I can now tell Travis to push the generated files. All I do is tell it to generate the site (since this is just Jekyll), and then call my <a href="https://github.com/davidsiaw/davidsiaw.github.io.source/blob/master/deploy">deploy script</a> which simply pushes the right stuff up to github.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='yaml'><span class='line'><span class="p-Indicator">-</span> <span class="l-Scalar-Plain">bundle exec rake generate</span>
</span><span class='line'><span class="p-Indicator">-</span> <span class="l-Scalar-Plain">bash deploy</span>
</span></code></pre></td></tr></table></div></figure>


<p>With this, my website gets updated everytime I push my changes to <a href="https://github.com/davidsiaw/davidsiaw.github.io.source">https://github.com/davidsiaw/davidsiaw.github.io.source</a>, Travis will automatically update my blog.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/10/12/new-blog/">New Blog</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-10-12T16:03:00+00:00" pubdate data-updated="true">Oct 12<span>th</span>, 2013</time>
        
         | <a href="/blog/2013/10/12/new-blog/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>As all of you may have noticed the theme has changed and the URL seems to have been redirected to Github. I decided to try out this github pages thing and it seems to work pretty well. The static content idea is really attractive to me and really gives me much more power over the pages with a small tradeoff for convenience. But convenience is a non-issue for most programmers who can write tools to make the inconvenient convenient.</p>

<p>What I want to talk about here is actually how I started doing this and why I ended up moving my blog across, along with what I learned along the way about Jekyll-Bootstrap, Octopress, Jekyll, the annoying problems and the process of migrating from a WordPress blog to a Octopress/Disqus duo.</p>

</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2013/10/12/new-blog/">Read on &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/03/18/online-vs-batch-learning/">Online vs Batch Learning</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-03-18T00:00:00+00:00" pubdate data-updated="true">Mar 18<span>th</span>, 2013</time>
        
         | <a href="/blog/2013/03/18/online-vs-batch-learning/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>While debugging neuron, my new neural network simulation application, I found some (visually) interesting differences between online and batch learning. While batch learning is usually touted as a better form of learning, I found that the two don&rsquo;t seem to make much difference, except for a steppy curve from online learning, as I would expect as the gradient changes differently if you keep calculating the values in a cycle instead of calculating the combined gradient of all the training data.</p>

<p>Here are the results from training a 2-2-1 network with biases with XOR as training data:</p>

<p><a href="http://labs.astrobunny.net/wp-content/uploads/2013/03/wpid-neuron2.jpg" rel="lightbox"><img src="http://labs.astrobunny.net/wp-content/uploads/2013/03/wpid-neuron2-500x81.jpg" alt="" title="Picture" width="500" height="81" class="alignnone size-medium wp-image-1204" /></a></p>

<p>with the weights initialized to:</p>

<p>double[] wx0 = { 0.1, 0.2 };
double[] wx1 = { 0.3, 0.4 };
double[] wx2 = { 0.5, 0.6 };</p>

<p>double wh0 = 0.7;
double wh1 = 0.9;
double wh2 = 1.1;</p>

<p>Where wx are the values between the input and hidden layer and wh are the values between the hidden and output layer.</p>

<p>Here is the network topography:</p>

<p><a href="http://labs.astrobunny.net/wp-content/uploads/2013/03/wpid-neuron1.jpg" rel="lightbox"><img src="http://labs.astrobunny.net/wp-content/uploads/2013/03/wpid-neuron1-500x361.jpg" alt="" title="Picture" width="500" height="361" class="alignnone size-medium wp-image-1204" /></a></p>

<p>Here is the training error:</p>

<p><a href="http://labs.astrobunny.net/wp-content/uploads/2013/03/wpid-chart_1-1.png" rel="lightbox"><img src="http://labs.astrobunny.net/wp-content/uploads/2013/03/wpid-chart_1-1-500x272.png" alt="" title="Picture" width="500" height="272" class="alignnone size-medium wp-image-1204" /></a></p>
</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/blog/page/2/">&larr; Older</a>
    
    <a href="archives">Blog Archives</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <ul id="recent_posts">
      <li class="post">
      <a href="http://davidsiaw.github.io" alt="Home"><img src="/images/Home.png"></a>
      <a href="http://davidsiaw.github.io/archives/" alt="Archives"><img src="/images/Calendar.png"></a>
      
      <a href="http://davidsiaw.github.io/atom.xml" alt="subscribe feed"><img src="/images/rss.png"></a>
      </li>
  </ul>
</section>
<section>
  <h1>About Me</h1>
  <p>I am a whimsical programmer with a wandering mind and a serious need to try new things all the time. I hate null and exceptions. I think this world can be a much better place than that.</p>
</section>

<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:davidsiaw.github.io" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Home</a></li>
  <li><a href="/blog/archives">Archives</a></li>
  <li><a href="/gallery">Gallery</a></li>
  <li><a href="/notes">Notes</a></li>
</ul>

<section>
  <h1>Categories</h1>
    <ul id="category-list"><li><a href='/blog/categories/graphics/'>Graphics (5)</a></li><li><a href='/blog/categories/hexlife/'>Hexlife (2)</a></li><li><a href='/blog/categories/math/'>Math (2)</a></li><li><a href='/blog/categories/philosophy/'>Philosophy (1)</a></li><li><a href='/blog/categories/programming/'>Programming (32)</a></li><li><a href='/blog/categories/random/'>Random (6)</a></li></ul>
</section>
<section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2018/08/16/jepsen-and-docker/">Jepsen and Docker</a>
      </li>
    
      <li class="post">
        <a href="/blog/2016/04/09/an-utilitarian-view-on-intelligence/">An Utilitarian View on Intelligence</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/12/22/rotating-integrals/">Rotating Integrals</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/06/12/finding-square-roots/">Finding Square Roots</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/01/23/script-for-setting-up-ftp-to-a-folder-on-a-mac/">Script for setting up FTP to a folder on a Mac</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  
  <a href="https://github.com/davidsiaw">@davidsiaw</a> on GitHub
  
  <script type="text/javascript">
    $.domReady(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'davidsiaw',
            count: 0,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>





  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2018 - davidsiaw -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'davidsiawblog';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>





  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
