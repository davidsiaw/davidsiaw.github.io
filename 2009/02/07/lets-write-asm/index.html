<!DOCTYPE html>
<html>
<!-- Generated using weaver: https://github.com/davidsiaw/weaver -->
<head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Let's write asm!</title>

    <link href="../../../../css/bootstrap.min.css" rel="stylesheet">
    <link href="../../../../font-awesome/css/font-awesome.css" rel="stylesheet">
    <link href="../../../../css/plugins/iCheck/custom.css" rel="stylesheet">

      <link href="../../../../css/style-dark.css" rel="stylesheet">


    <link href="../../../../css/animate.css" rel="stylesheet">

    <link href="../../../../css/dracula.css" rel="stylesheet">

    <link href="../../../../css/ourown.css" rel="stylesheet">




</head>

<body class=' fixed-sidebar'>

<div id="background" style="z-index: -999; position:absolute; left:0px; right:0px; width:100%; height:100%">

</div>

<div id="content" style="z-index: 0">

	<div id="wrapper">

		<nav class="navbar-default navbar-static-side" role="navigation">
			<div class="sidebar-collapse">
				<ul class="nav" id="side-menu">


	                <li>
	                    <a href="https://davidsiaw.github.io/"><i class="fa fa-home"></i> <span class="nav-label">Home</span> <span class="label label-primary pull-right"></span></a>
	                </li>

<li ><a href="https://davidsiaw.github.io/categories/FPGA"><i class="fa fa-folder"></i><span class="nav-label">FPGA</span></a></li><li ><a href="https://davidsiaw.github.io/categories/Random"><i class="fa fa-folder"></i><span class="nav-label">Random</span></a></li><li ><a href="https://davidsiaw.github.io/categories/Programming"><i class="fa fa-folder"></i><span class="nav-label">Programming</span></a></li><li ><a href="https://davidsiaw.github.io/categories/Philosophy"><i class="fa fa-folder"></i><span class="nav-label">Philosophy</span></a></li><li ><a href="https://davidsiaw.github.io/categories/Math"><i class="fa fa-folder"></i><span class="nav-label">Math</span></a></li><li ><a href="https://davidsiaw.github.io/categories/Hexlife"><i class="fa fa-folder"></i><span class="nav-label">Hexlife</span></a></li><li ><a href="https://davidsiaw.github.io/categories/Graphics"><i class="fa fa-folder"></i><span class="nav-label">Graphics</span></a></li><li open="true"><a href="https://davidsiaw.github.io/#"><i class="fa fa-calendar"></i><span class="nav-label">History</span><span class="fa arrow"></span></a><ul class="nav nav-second-level collapse in"><li ><a href="https://davidsiaw.github.io/2025/07"><i class="fa fa-calendar-o"></i><span class="nav-label">2025/07 (1)</span></a></li><li ><a href="https://davidsiaw.github.io/2025/03"><i class="fa fa-calendar-o"></i><span class="nav-label">2025/03 (1)</span></a></li><li ><a href="https://davidsiaw.github.io/2020/05"><i class="fa fa-calendar-o"></i><span class="nav-label">2020/05 (1)</span></a></li><li ><a href="https://davidsiaw.github.io/2019/08"><i class="fa fa-calendar-o"></i><span class="nav-label">2019/08 (1)</span></a></li><li ><a href="https://davidsiaw.github.io/2018/08"><i class="fa fa-calendar-o"></i><span class="nav-label">2018/08 (1)</span></a></li><li ><a href="https://davidsiaw.github.io/2016/04"><i class="fa fa-calendar-o"></i><span class="nav-label">2016/04 (1)</span></a></li><li ><a href="https://davidsiaw.github.io/2015/12"><i class="fa fa-calendar-o"></i><span class="nav-label">2015/12 (1)</span></a></li><li ><a href="https://davidsiaw.github.io/2015/06"><i class="fa fa-calendar-o"></i><span class="nav-label">2015/06 (1)</span></a></li><li ><a href="https://davidsiaw.github.io/2015/01"><i class="fa fa-calendar-o"></i><span class="nav-label">2015/01 (1)</span></a></li><li ><a href="https://davidsiaw.github.io/2014/11"><i class="fa fa-calendar-o"></i><span class="nav-label">2014/11 (2)</span></a></li><li ><a href="https://davidsiaw.github.io/2014/10"><i class="fa fa-calendar-o"></i><span class="nav-label">2014/10 (1)</span></a></li><li ><a href="https://davidsiaw.github.io/2013/10"><i class="fa fa-calendar-o"></i><span class="nav-label">2013/10 (1)</span></a></li><li ><a href="https://davidsiaw.github.io/2013/03"><i class="fa fa-calendar-o"></i><span class="nav-label">2013/03 (1)</span></a></li><li ><a href="https://davidsiaw.github.io/2012/12"><i class="fa fa-calendar-o"></i><span class="nav-label">2012/12 (2)</span></a></li><li ><a href="https://davidsiaw.github.io/2012/11"><i class="fa fa-calendar-o"></i><span class="nav-label">2012/11 (2)</span></a></li><li ><a href="https://davidsiaw.github.io/2012/08"><i class="fa fa-calendar-o"></i><span class="nav-label">2012/08 (1)</span></a></li><li ><a href="https://davidsiaw.github.io/2011/11"><i class="fa fa-calendar-o"></i><span class="nav-label">2011/11 (2)</span></a></li><li ><a href="https://davidsiaw.github.io/2011/10"><i class="fa fa-calendar-o"></i><span class="nav-label">2011/10 (2)</span></a></li><li ><a href="https://davidsiaw.github.io/2011/09"><i class="fa fa-calendar-o"></i><span class="nav-label">2011/09 (1)</span></a></li><li ><a href="https://davidsiaw.github.io/2011/07"><i class="fa fa-calendar-o"></i><span class="nav-label">2011/07 (1)</span></a></li><li ><a href="https://davidsiaw.github.io/2010/08"><i class="fa fa-calendar-o"></i><span class="nav-label">2010/08 (1)</span></a></li><li ><a href="https://davidsiaw.github.io/2010/06"><i class="fa fa-calendar-o"></i><span class="nav-label">2010/06 (1)</span></a></li><li ><a href="https://davidsiaw.github.io/2009/12"><i class="fa fa-calendar-o"></i><span class="nav-label">2009/12 (1)</span></a></li><li ><a href="https://davidsiaw.github.io/2009/11"><i class="fa fa-calendar-o"></i><span class="nav-label">2009/11 (1)</span></a></li><li ><a href="https://davidsiaw.github.io/2009/05"><i class="fa fa-calendar-o"></i><span class="nav-label">2009/05 (1)</span></a></li><li ><a href="https://davidsiaw.github.io/2009/04"><i class="fa fa-calendar-o"></i><span class="nav-label">2009/04 (1)</span></a></li><li ><a href="https://davidsiaw.github.io/2009/03"><i class="fa fa-calendar-o"></i><span class="nav-label">2009/03 (4)</span></a></li><li ><a href="https://davidsiaw.github.io/2009/02"><i class="fa fa-calendar-check-o"></i><span class="nav-label">2009/02 (1) <br><i class='fa fa-chevron-right'></i>Let's write asm!</span></a></li><li ><a href="https://davidsiaw.github.io/2009/01"><i class="fa fa-calendar-o"></i><span class="nav-label">2009/01 (1)</span></a></li><li ><a href="https://davidsiaw.github.io/2008/11"><i class="fa fa-calendar-o"></i><span class="nav-label">2008/11 (3)</span></a></li><li ><a href="https://davidsiaw.github.io/2008/10"><i class="fa fa-calendar-o"></i><span class="nav-label">2008/10 (3)</span></a></li><li ><a href="https://davidsiaw.github.io/2008/09"><i class="fa fa-calendar-o"></i><span class="nav-label">2008/09 (3)</span></a></li><li ><a href="https://davidsiaw.github.io/2008/08"><i class="fa fa-calendar-o"></i><span class="nav-label">2008/08 (2)</span></a></li></ul></li><li open="false"><a href="https://davidsiaw.github.io/#"><i class="fa fa-tags"></i><span class="nav-label">Tags</span><span class="fa arrow"></span></a><ul class="nav nav-second-level "><li ><a href="https://davidsiaw.github.io/tags/c++"><i class="fa fa-tag"></i><span class="nav-label">c++ (6)</span></a></li><li ><a href="https://davidsiaw.github.io/tags/opengl"><i class="fa fa-tag"></i><span class="nav-label">opengl (4)</span></a></li><li ><a href="https://davidsiaw.github.io/tags/blogging"><i class="fa fa-tag"></i><span class="nav-label">blogging (2)</span></a></li><li ><a href="https://davidsiaw.github.io/tags/blog"><i class="fa fa-tag"></i><span class="nav-label">blog (2)</span></a></li><li ><a href="https://davidsiaw.github.io/tags/cellular automata"><i class="fa fa-tag"></i><span class="nav-label">cellular automata (2)</span></a></li><li ><a href="https://davidsiaw.github.io/tags/ca"><i class="fa fa-tag"></i><span class="nav-label">ca (2)</span></a></li><li ><a href="https://davidsiaw.github.io/tags/game of life"><i class="fa fa-tag"></i><span class="nav-label">game of life (2)</span></a></li><li ><a href="https://davidsiaw.github.io/tags/hexagonal grid"><i class="fa fa-tag"></i><span class="nav-label">hexagonal grid (2)</span></a></li><li ><a href="https://davidsiaw.github.io/tags/snippet"><i class="fa fa-tag"></i><span class="nav-label">snippet (2)</span></a></li><li ><a href="https://davidsiaw.github.io/tags/intermediate mode"><i class="fa fa-tag"></i><span class="nav-label">intermediate mode (2)</span></a></li><li ><a href="https://davidsiaw.github.io/tags/performance"><i class="fa fa-tag"></i><span class="nav-label">performance (2)</span></a></li><li ><a href="https://davidsiaw.github.io/tags/programming"><i class="fa fa-tag"></i><span class="nav-label">programming (2)</span></a></li><li ><a href="https://davidsiaw.github.io/tags/destructor"><i class="fa fa-tag"></i><span class="nav-label">destructor (1)</span></a></li><li ><a href="https://davidsiaw.github.io/tags/exception"><i class="fa fa-tag"></i><span class="nav-label">exception (1)</span></a></li><li ><a href="https://davidsiaw.github.io/tags/throw"><i class="fa fa-tag"></i><span class="nav-label">throw (1)</span></a></li><li ><a href="https://davidsiaw.github.io/tags/wysiwyg"><i class="fa fa-tag"></i><span class="nav-label">wysiwyg (1)</span></a></li><li ><a href="https://davidsiaw.github.io/tags/will it happen"><i class="fa fa-tag"></i><span class="nav-label">will it happen (1)</span></a></li><li ><a href="https://davidsiaw.github.io/tags/client"><i class="fa fa-tag"></i><span class="nav-label">client (1)</span></a></li><li ><a href="https://davidsiaw.github.io/tags/bunnyblogger"><i class="fa fa-tag"></i><span class="nav-label">bunnyblogger (1)</span></a></li><li ><a href="https://davidsiaw.github.io/tags/beta"><i class="fa fa-tag"></i><span class="nav-label">beta (1)</span></a></li><li ><a href="https://davidsiaw.github.io/tags/populate"><i class="fa fa-tag"></i><span class="nav-label">populate (1)</span></a></li><li ><a href="https://davidsiaw.github.io/tags/constructor"><i class="fa fa-tag"></i><span class="nav-label">constructor (1)</span></a></li><li ><a href="https://davidsiaw.github.io/tags/visual studio"><i class="fa fa-tag"></i><span class="nav-label">visual studio (1)</span></a></li><li ><a href="https://davidsiaw.github.io/tags/unresolved"><i class="fa fa-tag"></i><span class="nav-label">unresolved (1)</span></a></li><li ><a href="https://davidsiaw.github.io/tags/symbol"><i class="fa fa-tag"></i><span class="nav-label">symbol (1)</span></a></li><li ><a href="https://davidsiaw.github.io/tags/msvc"><i class="fa fa-tag"></i><span class="nav-label">msvc (1)</span></a></li><li ><a href="https://davidsiaw.github.io/tags/glew"><i class="fa fa-tag"></i><span class="nav-label">glew (1)</span></a></li><li ><a href="https://davidsiaw.github.io/tags/external"><i class="fa fa-tag"></i><span class="nav-label">external (1)</span></a></li><li ><a href="https://davidsiaw.github.io/tags/2010"><i class="fa fa-tag"></i><span class="nav-label">2010 (1)</span></a></li><li ><a href="https://davidsiaw.github.io/tags/tight loop"><i class="fa fa-tag"></i><span class="nav-label">tight loop (1)</span></a></li><li ><a href="https://davidsiaw.github.io/tags/glbegin"><i class="fa fa-tag"></i><span class="nav-label">glbegin (1)</span></a></li><li ><a href="https://davidsiaw.github.io/tags/display list"><i class="fa fa-tag"></i><span class="nav-label">display list (1)</span></a></li><li ><a href="https://davidsiaw.github.io/tags/saturation"><i class="fa fa-tag"></i><span class="nav-label">saturation (1)</span></a></li><li ><a href="https://davidsiaw.github.io/tags/rgb"><i class="fa fa-tag"></i><span class="nav-label">rgb (1)</span></a></li><li ><a href="https://davidsiaw.github.io/tags/simple"><i class="fa fa-tag"></i><span class="nav-label">simple (1)</span></a></li><li ><a href="https://davidsiaw.github.io/tags/glsl"><i class="fa fa-tag"></i><span class="nav-label">glsl (1)</span></a></li><li ><a href="https://davidsiaw.github.io/tags/example"><i class="fa fa-tag"></i><span class="nav-label">example (1)</span></a></li><li ><a href="https://davidsiaw.github.io/tags/vertex"><i class="fa fa-tag"></i><span class="nav-label">vertex (1)</span></a></li><li ><a href="https://davidsiaw.github.io/tags/vbo"><i class="fa fa-tag"></i><span class="nav-label">vbo (1)</span></a></li><li ><a href="https://davidsiaw.github.io/tags/objects"><i class="fa fa-tag"></i><span class="nav-label">objects (1)</span></a></li><li ><a href="https://davidsiaw.github.io/tags/enhancement"><i class="fa fa-tag"></i><span class="nav-label">enhancement (1)</span></a></li><li ><a href="https://davidsiaw.github.io/tags/buffer"><i class="fa fa-tag"></i><span class="nav-label">buffer (1)</span></a></li><li ><a href="https://davidsiaw.github.io/tags/sdl"><i class="fa fa-tag"></i><span class="nav-label">sdl (1)</span></a></li><li ><a href="https://davidsiaw.github.io/tags/2d"><i class="fa fa-tag"></i><span class="nav-label">2d (1)</span></a></li><li ><a href="https://davidsiaw.github.io/tags/tree"><i class="fa fa-tag"></i><span class="nav-label">tree (1)</span></a></li><li ><a href="https://davidsiaw.github.io/tags/structure"><i class="fa fa-tag"></i><span class="nav-label">structure (1)</span></a></li><li ><a href="https://davidsiaw.github.io/tags/rbsptree"><i class="fa fa-tag"></i><span class="nav-label">rbsptree (1)</span></a></li><li ><a href="https://davidsiaw.github.io/tags/packing"><i class="fa fa-tag"></i><span class="nav-label">packing (1)</span></a></li><li ><a href="https://davidsiaw.github.io/tags/lightmap"><i class="fa fa-tag"></i><span class="nav-label">lightmap (1)</span></a></li><li ><a href="https://davidsiaw.github.io/tags/demo"><i class="fa fa-tag"></i><span class="nav-label">demo (1)</span></a></li><li ><a href="https://davidsiaw.github.io/tags/data"><i class="fa fa-tag"></i><span class="nav-label">data (1)</span></a></li><li ><a href="https://davidsiaw.github.io/tags/bsp"><i class="fa fa-tag"></i><span class="nav-label">bsp (1)</span></a></li><li ><a href="https://davidsiaw.github.io/tags/algorithm"><i class="fa fa-tag"></i><span class="nav-label">algorithm (1)</span></a></li><li ><a href="https://davidsiaw.github.io/tags/string.join"><i class="fa fa-tag"></i><span class="nav-label">string.join (1)</span></a></li><li ><a href="https://davidsiaw.github.io/tags/separator"><i class="fa fa-tag"></i><span class="nav-label">separator (1)</span></a></li><li ><a href="https://davidsiaw.github.io/tags/better way"><i class="fa fa-tag"></i><span class="nav-label">better way (1)</span></a></li><li ><a href="https://davidsiaw.github.io/tags/shortening"><i class="fa fa-tag"></i><span class="nav-label">shortening (1)</span></a></li><li ><a href="https://davidsiaw.github.io/tags/loop"><i class="fa fa-tag"></i><span class="nav-label">loop (1)</span></a></li><li ><a href="https://davidsiaw.github.io/tags/for"><i class="fa fa-tag"></i><span class="nav-label">for (1)</span></a></li><li ><a href="https://davidsiaw.github.io/tags/identity"><i class="fa fa-tag"></i><span class="nav-label">identity (1)</span></a></li><li ><a href="https://davidsiaw.github.io/tags/compiler"><i class="fa fa-tag"></i><span class="nav-label">compiler (1)</span></a></li><li ><a href="https://davidsiaw.github.io/tags/array"><i class="fa fa-tag"></i><span class="nav-label">array (1)</span></a></li><li ><a href="https://davidsiaw.github.io/tags/timer"><i class="fa fa-tag"></i><span class="nav-label">timer (1)</span></a></li><li ><a href="https://davidsiaw.github.io/tags/javascript"><i class="fa fa-tag"></i><span class="nav-label">javascript (1)</span></a></li><li ><a href="https://davidsiaw.github.io/tags/cappuccino"><i class="fa fa-tag"></i><span class="nav-label">cappuccino (1)</span></a></li><li ><a href="https://davidsiaw.github.io/tags/online"><i class="fa fa-tag"></i><span class="nav-label">online (1)</span></a></li><li ><a href="https://davidsiaw.github.io/tags/neural"><i class="fa fa-tag"></i><span class="nav-label">neural (1)</span></a></li><li ><a href="https://davidsiaw.github.io/tags/network"><i class="fa fa-tag"></i><span class="nav-label">network (1)</span></a></li><li ><a href="https://davidsiaw.github.io/tags/batch"><i class="fa fa-tag"></i><span class="nav-label">batch (1)</span></a></li><li ><a href="https://davidsiaw.github.io/tags/jekyll-bootstrap"><i class="fa fa-tag"></i><span class="nav-label">jekyll-bootstrap (1)</span></a></li><li ><a href="https://davidsiaw.github.io/tags/github-pages"><i class="fa fa-tag"></i><span class="nav-label">github-pages (1)</span></a></li><li ><a href="https://davidsiaw.github.io/tags/wordpress"><i class="fa fa-tag"></i><span class="nav-label">wordpress (1)</span></a></li><li ><a href="https://davidsiaw.github.io/tags/jekyll"><i class="fa fa-tag"></i><span class="nav-label">jekyll (1)</span></a></li><li ><a href="https://davidsiaw.github.io/tags/octopress"><i class="fa fa-tag"></i><span class="nav-label">octopress (1)</span></a></li><li ><a href="https://davidsiaw.github.io/tags/travis"><i class="fa fa-tag"></i><span class="nav-label">travis (1)</span></a></li><li ><a href="https://davidsiaw.github.io/tags/etcd"><i class="fa fa-tag"></i><span class="nav-label">etcd (1)</span></a></li><li ><a href="https://davidsiaw.github.io/tags/testing"><i class="fa fa-tag"></i><span class="nav-label">testing (1)</span></a></li><li ><a href="https://davidsiaw.github.io/tags/database"><i class="fa fa-tag"></i><span class="nav-label">database (1)</span></a></li><li ><a href="https://davidsiaw.github.io/tags/mruby"><i class="fa fa-tag"></i><span class="nav-label">mruby (1)</span></a></li><li ><a href="https://davidsiaw.github.io/tags/bittwiddling"><i class="fa fa-tag"></i><span class="nav-label">bittwiddling (1)</span></a></li><li ><a href="https://davidsiaw.github.io/tags/c"><i class="fa fa-tag"></i><span class="nav-label">c (1)</span></a></li><li ><a href="https://davidsiaw.github.io/tags/random"><i class="fa fa-tag"></i><span class="nav-label">random (1)</span></a></li><li ><a href="https://davidsiaw.github.io/tags/gowin"><i class="fa fa-tag"></i><span class="nav-label">gowin (1)</span></a></li><li ><a href="https://davidsiaw.github.io/tags/fpga"><i class="fa fa-tag"></i><span class="nav-label">fpga (1)</span></a></li><li ><a href="https://davidsiaw.github.io/tags/hue"><i class="fa fa-tag"></i><span class="nav-label">hue (1)</span></a></li><li ><a href="https://davidsiaw.github.io/tags/convert"><i class="fa fa-tag"></i><span class="nav-label">convert (1)</span></a></li><li ><a href="https://davidsiaw.github.io/tags/color"><i class="fa fa-tag"></i><span class="nav-label">color (1)</span></a></li><li ><a href="https://davidsiaw.github.io/tags/brightness"><i class="fa fa-tag"></i><span class="nav-label">brightness (1)</span></a></li><li ><a href="https://davidsiaw.github.io/tags/alpha"><i class="fa fa-tag"></i><span class="nav-label">alpha (1)</span></a></li><li ><a href="https://davidsiaw.github.io/tags/ahsb"><i class="fa fa-tag"></i><span class="nav-label">ahsb (1)</span></a></li><li ><a href="https://davidsiaw.github.io/tags/regex"><i class="fa fa-tag"></i><span class="nav-label">regex (1)</span></a></li><li ><a href="https://davidsiaw.github.io/tags/escape"><i class="fa fa-tag"></i><span class="nav-label">escape (1)</span></a></li><li ><a href="https://davidsiaw.github.io/tags/characters"><i class="fa fa-tag"></i><span class="nav-label">characters (1)</span></a></li><li ><a href="https://davidsiaw.github.io/tags/.net"><i class="fa fa-tag"></i><span class="nav-label">.net (1)</span></a></li><li ><a href="https://davidsiaw.github.io/tags/text"><i class="fa fa-tag"></i><span class="nav-label">text (1)</span></a></li><li ><a href="https://davidsiaw.github.io/tags/style"><i class="fa fa-tag"></i><span class="nav-label">style (1)</span></a></li><li ><a href="https://davidsiaw.github.io/tags/span"><i class="fa fa-tag"></i><span class="nav-label">span (1)</span></a></li><li ><a href="https://davidsiaw.github.io/tags/effect"><i class="fa fa-tag"></i><span class="nav-label">effect (1)</span></a></li><li ><a href="https://davidsiaw.github.io/tags/css"><i class="fa fa-tag"></i><span class="nav-label">css (1)</span></a></li><li ><a href="https://davidsiaw.github.io/tags/blur"><i class="fa fa-tag"></i><span class="nav-label">blur (1)</span></a></li><li ><a href="https://davidsiaw.github.io/tags/visualization"><i class="fa fa-tag"></i><span class="nav-label">visualization (1)</span></a></li><li ><a href="https://davidsiaw.github.io/tags/java"><i class="fa fa-tag"></i><span class="nav-label">java (1)</span></a></li><li ><a href="https://davidsiaw.github.io/tags/cross product"><i class="fa fa-tag"></i><span class="nav-label">cross product (1)</span></a></li><li ><a href="https://davidsiaw.github.io/tags/applet"><i class="fa fa-tag"></i><span class="nav-label">applet (1)</span></a></li><li ><a href="https://davidsiaw.github.io/tags/practice"><i class="fa fa-tag"></i><span class="nav-label">practice (1)</span></a></li><li ><a href="https://davidsiaw.github.io/tags/exceptionless"><i class="fa fa-tag"></i><span class="nav-label">exceptionless (1)</span></a></li><li ><a href="https://davidsiaw.github.io/tags/unit types"><i class="fa fa-tag"></i><span class="nav-label">unit types (1)</span></a></li><li ><a href="https://davidsiaw.github.io/tags/type safety"><i class="fa fa-tag"></i><span class="nav-label">type safety (1)</span></a></li><li ><a href="https://davidsiaw.github.io/tags/languages"><i class="fa fa-tag"></i><span class="nav-label">languages (1)</span></a></li></ul></li>

				</ul>
			</div>
		</nav>
		<div id="page-wrapper" class="gray-bg">
			<div class="row border-bottom">
		        <nav class="navbar navbar-static-top  " role="navigation" style="margin-bottom: 0">
					<div class="navbar-header">
					    <a class="navbar-minimalize minimalize-styl-2 btn btn-primary " href="#"><i class="fa fa-bars"></i> </a>
					</div>
		            <ul class="nav navbar-top-links navbar-right">
		                <!-- NAV RIGHT -->
		            </ul>
		        </nav>
	        </div>
	<div class="row wrapper white-bg page-heading" style="">
  <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
    <h1>Let's write asm!</h1><h6>February 07, 2009 00:00</h6><hr  />
  </div>

	</div>
	<div class="row " style="">
  <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
    <p><span class="dropcap">T</span>oday I was asked by a friend to help with his programming assignment. His program needs to take in a number and output the prime factors of the number. For example, 60 = (2^2)(3^1)(5^1)</p>

<p>So after trying to explain the problem to him, I decided to try writing it myself in C. Of course, he wrote his own version in Java.
&lt;!--more--&gt;
``` c
void printPrimeFactors(int num)
{
    int isprime = 0, power;
    int i, z;
    for (i = 2; i &lt;= num; i++)
    {
        // determine if its a prime
        isprime = 1;
        for (z = 2; z &lt; i; z++) { if (i % z == 0 &amp;&amp; z != i)  { isprime = 0; } }</p>

<pre><code>    if (!isprime ) { continue; }

    // divide  the crap out of it
    power = 0;
    while (!(num % i))
    {
        num /= i;
        power++;
    }

    if (power &gt; 0)
        printf(&quot;(%d^%d)&quot;, i, power);
}
</code></pre>

<p>}
```</p>

<p>After looking at the disassembly for that, I realized how often memory gets accessed, and wondered if I could use the registers. Then, I suddenly transformed into Mr. Geeky and tried to write it in asm using the least amount of memory access possible.</p>

<pre><code class="c">void print(int num, int power)
{
    printf(&quot;(%d^%d)&quot;, num, power);
}

void printprimefactors(int num)
{

    __asm {
        mov ebx, 2;             // ebx is the current factor 
startloop:

        mov ecx, 2;             // check if its prime. ecx is the number to divide ebx by. if ebx%ecx is zero and if ecx is not ebx, then go to next factor
startcheckprime:
        mov eax, ebx;           // set the high
        cdq;                    // set the low
        idiv ecx;               // divide ebx by ecx, the remainder is in edx
        cmp edx, 0;             // if the remainder is not zero then continue
        jne contcheckprime;
        cmp ecx, ebx;           // if ecx and ebx are the same then continue
        je contcheckprime;
        jmp contloop;           // aha. factor is not a prime. continue

contcheckprime:
        add ecx, 1;
        cmp ecx, ebx;           
        jl startcheckprime;     // if ecx &lt; ebx then next

        mov ecx, 0;
        mov eax, num;
        mov edx, 0;
divideloop:
        mov num, eax
        cdq;
        idiv ebx;
        cmp edx, 0;
        jne printout;
        add ecx, 1;
        jmp divideloop;

printout:
        cmp ecx, 0;
        je contloop;
        mov esi,esp;
        push ebx;
        push ecx;
        call print;
        add esp, 08h;

contloop:

        add ebx, 1;
        cmp ebx, num;
        jle startloop;
    }
}
</code></pre>

<p>Okay, fine theres the memory access in the loop. But it isn&#39;t very tight. Of course, even though its written in ASM, its not going to be much faster than the C version due to the call to printf, which will in fact, make up almost all the time the function spends inside itself. Writing this in ASM is completely pointless. I just did it because I felt the itch to.</p>

  </div>

	</div>
	<div class="row " style="">
  <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
    
  </div>

	</div>
	<div class="row " style="">
  <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
    <hr  /><br  /><br  /><script type="text/javascript" id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js">
</script>

  </div>

	</div>

		</div>
	</div>

</div>

    <!-- Mainly scripts -->
    <script src="../../../../js/jquery-3.1.1.min.js"></script>
    <script src="../../../../js/jquery-ui-1.10.4.min.js"></script>
    <script src="../../../../js/bootstrap.min.js"></script>
    <script src="../../../../js/plugins/metisMenu/jquery.metisMenu.js"></script>
    <script src="../../../../js/plugins/slimscroll/jquery.slimscroll.min.js"></script>
	<script type="text/x-mathjax-config">
		MathJax.Hub.Config({
			asciimath2jax: {
				delimiters: [['$$$MATH$$$','$$$ENDMATH$$$']]
			}
		});
	</script>
    <script src="../../../../js/MathJax/MathJax.js?config=AM_HTMLorMML-full" async></script>

    <script src="../../../../js/highlight.min.js"></script>



    <!-- Custom and plugin javascript -->
    <script src="../../../../js/weaver.js"></script>
    <script src='../../../../js/plugins/pace/pace.min.js'></script>

    <script>



$( document ).ready(function() {

hljs.highlightAll();



});
    </script>



</body>

</html>

